import{l as j,E as z,r as V,G as I,c as m,a as U,o as K,b as p,d as f,t as d,y as _,p as t,H as c,S,z as v,O,D as q,v as w,u as T,s as $}from"./vue.esm-bundler-DD7xIM0D.js";import{g as A}from"./generateId-DPOzJEtM.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"range"},H=["for"],L=["aria-describedby"],P=["min","max","step","aria-valuemin","aria-valuemax","aria-valuenow"],J=["min","max","step","aria-valuemin","aria-valuemax","aria-valuenow"],Q={class:"range__field range__field--min"},W=["step","value"],X={class:"range__field--unit"},Y={class:"range__field range__field--max"},Z=["step","value"],ee={class:"range__field--unit"},ae={key:2,class:"range__message"},k=j({__name:"RangeSlider",props:z({color:{default:"default"},dataError:{},id:{},label:{},max:{},message:{},min:{},rangeValues:{},step:{},unit:{default:"€"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(y){const a=y,b=V(""),h=V(null),C=A,r=I(y,"modelValue"),R=()=>{var e,n,o;return a.dataError&&((e=a.dataError)==null?void 0:e.active)&&((o=(n=a.dataError)==null?void 0:n.message)==null?void 0:o.length)},M=()=>{r.value={min:l.value,max:i.value}},g=(e,n)=>{const o=e.target,u=parseFloat(o.value);n==="min"?l.value=u:i.value=u,r.value={min:l.value,max:i.value}},l=m({get:()=>Math.floor(r.value.min),set:e=>{r.value.min=e,e||(e=a.min),e=Math.floor(e),e<a.min||e>a.max?r.value.min=a.min:(e>r.value.max&&(r.value.max=e),r.value.min=e)}}),i=m({get:()=>Math.floor(r.value.max),set:e=>{r.value.max=e,e||(e=a.max),e=Math.floor(e),e>a.max||e<a.min?r.value.max=a.max:(e<r.value.min&&(r.value.min=e),r.value.max=e)}}),B=m(()=>(l.value-a.min)/((a.max-a.min)/100)),D=m(()=>100-(i.value-a.min)/((a.max-a.min)/100)),x=m(()=>a.unit.length>=2),E=()=>{const e=h.value;b.value=e&&e.id?e.id:"error-message"},N=()=>{var e,n;return(e=a.dataError)!=null&&e.active&&((n=a.dataError)!=null&&n.message)?b.value:void 0};return U(()=>{E()}),K(()=>{E()}),(e,n)=>{var o,u;return p(),f("div",G,[e.label?(p(),f("label",{key:0,class:"range__label range__label--outside",for:e.id||null},d(e.label),9,H)):_("",!0),t("div",{class:v([[{"range--error":e.dataError&&e.dataError.active}],"range__content"]),"aria-describedby":N()},[c(t("input",{type:"range",min:e.min,max:e.max,step:e.step,class:"range__slider range__slider--min","onUpdate:modelValue":n[0]||(n[0]=s=>l.value=s),role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":l.value,onChange:M},null,40,P),[[S,l.value]]),c(t("input",{type:"range",min:e.min,max:e.max,step:e.step,class:"range__slider range__slider--max","onUpdate:modelValue":n[1]||(n[1]=s=>i.value=s),role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":i.value,onChange:M},null,40,J),[[S,i.value]]),t("span",{class:v(["range__middle",`range__middle--${e.color}`]),style:O({left:`${B.value}%`,right:`${D.value}%`})},null,6),t("span",Q,[t("input",{type:"number",step:e.step,class:v(["range__input",{"range__input--long-unit":x.value}]),value:l.value,onBlur:n[2]||(n[2]=s=>g(s,"min")),onKeydown:n[3]||(n[3]=q(w(s=>g(s,"min"),["prevent"]),["enter"]))},null,42,W),t("span",X,d(e.unit),1)]),t("span",Y,[t("input",{type:"number",step:e.step,class:v(["range__input",{"range__input--long-unit":x.value}]),value:i.value,onBlur:n[4]||(n[4]=s=>g(s,"max")),onKeydown:n[5]||(n[5]=q(w(s=>g(s,"max"),["prevent"]),["enter"]))},null,42,Z),t("span",ee,d(e.unit),1)])],10,L),R()?c((p(),f("p",{key:1,class:"range__error-message",ref_key:"errorMessage",ref:h},[$(d((o=e.dataError)==null?void 0:o.message),1)])),[[T(C),"range-error-message--"]]):_("",!0),e.message&&!((u=e.dataError)!=null&&u.active)?(p(),f("p",ae,d(e.message),1)):_("",!0)])}}}),ne=F(k,[["__scopeId","data-v-ca784c82"]]);k.__docgenInfo={exportName:"default",displayName:"RangeSlider",description:"",tags:{},props:[{name:"color",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"emphasis"'},{name:'"quiet"'}]},defaultValue:{func:!1,value:"'default'"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"id",required:!1,type:{name:"string"}},{name:"label",required:!1,type:{name:"string"}},{name:"max",required:!1,type:{name:"number"}},{name:"message",required:!1,type:{name:"string"}},{name:"min",required:!1,type:{name:"number"}},{name:"rangeValues",required:!1,type:{name:"Range"}},{name:"step",required:!1,type:{name:"number"}},{name:"unit",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'€'"}}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/atoms/RangeSlider/RangeSlider.vue"]};const le=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));export{ne as S,le as _};
