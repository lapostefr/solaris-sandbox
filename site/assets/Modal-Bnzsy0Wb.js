import{b as w,c as k,f as v}from"./focusTrap-CkRmwrmc.js";import{a as B}from"./index-ADTFLffw.js";import{l as T,c as C,w as S,o as V,a as M,m as $,a0 as m,b as o,x as p,L as g,H as b,d,z as _,p as L,N as O,s as z,t as F,y as n,e as h,T as N}from"./vue.esm-bundler-DD7xIM0D.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q=T({name:"Modal",emits:["changed","toggledModal","close"],model:{prop:"showModal",event:"changed"},props:{colorBorderTop:{required:!1,default:"supernova",type:String},disableClickOutside:{required:!1,default:!1,type:Boolean},mobileFull:{required:!1,default:!1,type:Boolean},showTitle:{required:!1,default:!0,type:Boolean},size:{required:!1,default:"default",type:String},title:{required:!1,type:String},titleLevel:{required:!1,default:"h1",type:String},arialabel:{required:!1,type:String},isLoading:{required:!1,default:!1,type:Boolean},focusTrap:{required:!1,default:!0,type:Boolean},showModal:{required:!1,default:!1,type:Boolean},padding:{required:!1,default:"default",type:String},closable:{required:!1,default:!0,type:Boolean}},directives:{bodyNoScroll:w,closeOnFocusOut:k,focusTrap:v},setup(e,a){let s=!1;const t=C({get(){return e.showModal},set(l){a.emit("changed",l)}});S(t,l=>{typeof window>"u"||(l&&(document.onkeydown=c=>{c.key==="Escape"&&i()}),a.emit("toggledModal"))},{immediate:!0});const y=()=>{e.disableClickOutside||i()},i=()=>(e.closable&&(a.emit("changed"),a.emit("close")),s=!1,!1),r=()=>{const l=B();t.value||(s=!1),t.value&&!s&&(s=!0,v.initFocus(l.value))},u=()=>e.showTitle?void 0:e.title,f=()=>e.showTitle?"modal__title":void 0;return V(()=>{r()}),M(()=>{r()}),{close:i,handleOverlayClick:y,show:t,initFocus:r,setAriaLabel:u,setAriaLabelledBy:f}}}),j=["aria-label","aria-labelledby","aria-modal","open"],A={key:2,class:"modal__inner"},E={key:3,class:"modal__actions"};function I(e,a,s,t,y,i){const r=$("SolarisButton"),u=m("focus-trap"),f=m("body-no-scroll"),l=m("close-on-focus-out");return o(),p(N,{name:"open"},{default:g(()=>[e.show?b((o(),d("section",{key:0,class:_(["modal",[`modal--${e.size}`,{"modal--full":e.mobileFull}]])},[L("div",{class:"modal__overlay",onClick:a[0]||(a[0]=(...c)=>e.handleOverlayClick&&e.handleOverlayClick(...c))}),b((o(),d("dialog",{id:"modal__container",class:_(["modal__container",[`modal__container--${e.colorBorderTop}`,{"modal--no-title":!e.showTitle||e.showTitle&&!e.title},`modal__container--${e.padding}`]]),"aria-label":e.setAriaLabel(),"aria-labelledby":e.setAriaLabelledBy(),"aria-modal":e.show,open:e.show,role:"dialog"},[e.showTitle&&e.title?(o(),p(O(e.titleLevel),{key:0,id:"modal__title",class:"modal__title"},{default:g(()=>[z(F(e.title),1)]),_:1})):n("",!0),e.closable?(o(),p(r,{key:1,onClick:e.close,icon:"action-close",class:"modal__closer",type:"ghost",color:"darkgrey",size:"small"},null,8,["onClick"])):n("",!0),e.$slots.content?(o(),d("div",A,[h(e.$slots,"content",{},void 0,!0)])):n("",!0),e.$slots.actions?(o(),d("div",E,[h(e.$slots,"actions",{},void 0,!0)])):n("",!0)],10,j)),[[u,e.focusTrap]])],2)),[[f,e.show],[l,!0]]):n("",!0)]),_:3})}const U=D(q,[["render",I],["__scopeId","data-v-80acc82c"]]);q.__docgenInfo={displayName:"Modal",exportName:"default",description:"",tags:{},props:[{name:"colorBorderTop",values:["supernova","cobalt","yellow","green","pink","grey"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'supernova'"}},{name:"disableClickOutside",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"mobileFull",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"showTitle",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"size",values:["xs","small","default","large"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'default'"}},{name:"title",type:{name:"string"},required:!1},{name:"titleLevel",values:["h1","h2","h3","h4","h5","h6"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'h1'"}},{name:"arialabel",type:{name:"string"},required:!1},{name:"isLoading",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"focusTrap",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"v-model",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"padding",values:["small","default","large"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'default'"}},{name:"closable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"changed"},{name:"toggledModal"},{name:"close"}],slots:[{name:"content"},{name:"actions"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/organisms/Modal/Default/Modal.vue"]};const K=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"}));export{U as S,K as _};
