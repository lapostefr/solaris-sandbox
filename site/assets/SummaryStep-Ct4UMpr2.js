import{l as Y,r as _,c as A,o as J,k as G,m as g,b as t,d as s,p as a,x as r,L as c,s as y,t as l,N as w,y as i,O as I,z as m,e as L,J as K,F as b,C as k,q as M,j as Q}from"./vue.esm-bundler-DD7xIM0D.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"summary-step"},Z={key:0,class:"header__text"},x={key:1,class:"header__text__subtitle"},ee=["src","alt","width","height"],te={key:0,class:"summary-step__picture"},se={class:"summary-step__line summary-step__line--step"},ae={key:0,class:"summary-step__informations"},oe={class:"summary-step__line"},ie={class:"summary-step__item"},le={key:0,class:"summary-step__line"},ne={class:"summary-step__item summary-step__item--subInfo"},re={class:"summary-step__line summary-step__line--price"},me={class:"summary-step__item summary-step__item--bold"},de={key:0,class:"summary-step__informations"},ue={class:"summary-step__line"},pe={class:"summary-step__item"},_e={class:"summary-step__item"},ce={class:"summary-step__caption__list"},ye=["innerHTML"],he={key:1,class:"summary-step__checkbox"},V=Y({__name:"SummaryStep",props:{btnFullWidth:{type:Boolean},id:{},showDetails:{type:Boolean,default:!0},subtitleTag:{default:"h3"},titleTag:{default:"h2"},button:{default:"Étape suivante"},buttonDivider:{type:Boolean},displayCloseModalButton:{type:Boolean},emptySpaceBottom:{default:()=>({active:!1})},hasHeader:{type:Boolean},header:{},image:{},isLoading:{type:Boolean},hiddenButton:{type:Boolean},nextStepDisabled:{type:Boolean},price:{},steps:{},stickyDesktop:{default:"default"}},emits:["nextStep","closeModal","stepIcon"],setup(N,{emit:P}){const u=N,S=P,d=Q(),T=_(!1),B=_("");_(0);const D=_(!1),q=_(0),$=()=>{S("nextStep")},z=()=>{S("closeModal",!1)},F=e=>{S("stepIcon",e)},E=A(()=>u.hasHeader&&u.stickyDesktop==="bottom"&&D.value),h=()=>{window.innerWidth>=1280?u.stickyDesktop==="block"&&(B.value="bottom: 8px"):B.value=""},O=()=>{D.value=window.pageYOffset<q.value,q.value=window.pageYOffset},C=()=>{h(),u.stickyDesktop==="bottom"&&u.hasHeader&&O()};return J(()=>{d!=null&&d.proxy.$slots&&(T.value=!(d!=null&&d.proxy.$slots.input)),h(),window.addEventListener("scroll",C),window.addEventListener("resize",h)}),G(()=>{window.removeEventListener("scroll",C),window.removeEventListener("resize",h)}),(e,v)=>{const f=g("SolarisDivider"),j=g("SolarisPicture"),W=g("SolarisIcon"),H=g("SolarisButton");return t(),s("div",X,[a("div",{class:m(["summary-step__header",{"summary-step__header--subtitle":e.header.subtitle}])},[e.header.title||e.header.subtitle?(t(),s("div",Z,[e.header.title?(t(),r(w(e.titleTag),{key:0,class:"header__text__title"},{default:c(()=>[y(l(e.header.title),1)]),_:1})):i("",!0),e.header.subtitle?(t(),s("div",x,l(e.header.subtitle),1)):i("",!0)])):i("",!0),e.header.logo?(t(),s("div",{key:1,class:"header__logo",style:I([e.header.logo.maxHeight?{"max-height":e.header.logo.maxHeight+"px"}:""])},[a("img",{class:"header__logo-image",src:e.header.logo.url,alt:e.header.logo.alt,width:e.header.logo.width,height:e.header.logo.height},null,8,ee)],4)):i("",!0)],2),e.image||e.$slots.image?(t(),s("div",te,[L(e.$slots,"image",{},void 0,!0),e.image?(t(),r(f,{key:0,class:"summary-step__divider",color:"light",paddingTopBottom:0})):i("",!0),e.image?(t(),r(j,K({key:1,class:"summary-step__illustration"},e.image),null,16)):i("",!0)])):i("",!0),(t(!0),s(b,null,k(e.steps,(o,p)=>(t(),s("div",{class:"summary-step__main",key:p},[a("div",{class:m({"summary-step__informations":!o.name})},[M(f,{class:"summary-step__divider",color:"light",paddingTopBottom:0}),a("div",se,[o.name?(t(),r(w(e.subtitleTag),{key:0,class:"summary-step__title"},{default:c(()=>[y(l(o.name),1)]),_:2},1024)):i("",!0),o.icon?(t(),r(W,{key:1,class:"summary-step__icon",role:"button",title:"Modifier l'étape "+o.name,tabindex:"0",onClick:n=>F(o.icon.eventName),name:o.icon.name==="edit"?"action-pen":"editing-trash",size:"small"},null,8,["title","onClick","name"])):i("",!0)]),e.showDetails?(t(),s("div",ae,[(t(!0),s(b,null,k(o.options,(n,U)=>(t(),s("div",{key:`option-${U}`},[a("div",oe,[a("div",ie,l(n.name),1),a("div",{class:m(["summary-step__item",{"summary-step__item--promoted":n.hasPromotion}])},l(n.info),3)]),n.subName&&n.subInfo||n.hasPromotion?(t(),s("div",le,[a("div",ne,l(n.subName),1),a("div",{class:m(["summary-step__item",{"summary-step__item--subInfo":!n.hasPromotion,"summary-step__item--promo":n.hasPromotion}])},l(n.subInfo),3)])):i("",!0)]))),128))])):i("",!0)],2)]))),128)),M(f,{class:"summary-step__divider",type:e.steps&&e.steps.length?"dotted":"solid",color:"light",paddingTopBottom:0},null,8,["type"]),a("div",{class:m(["summary-step__bottom",{sticky:e.stickyDesktop==="bottom",sticky__withHeader:e.stickyDesktop==="bottom"&&E.value}])},[a("div",re,[(t(),r(w(e.subtitleTag),{class:"summary-step__item summary-step__item--total"},{default:c(()=>[y(l(e.price.name),1)]),_:1})),a("div",me,l(e.price.value)+" € ",1)]),e.price.options?(t(),s("div",de,[(t(!0),s(b,null,k(e.price.options,(o,p)=>(t(),s("div",{key:`option-${p}`},[a("div",ue,[a("div",pe,l(o.name),1),a("div",_e,l(o.info),1)])]))),128))])):i("",!0),a("div",ce,[(t(!0),s(b,null,k(e.price.captions,(o,p)=>(t(),s("div",{class:"summary-step__item summary-step__item--caption",key:"option-"+p,innerHTML:o},null,8,ye))),128))]),T.value?i("",!0):(t(),s("div",he,[L(e.$slots,"input",{id:e.id},void 0,!0)])),e.buttonDivider?(t(),r(f,{key:2,class:"summary-step__divider summary-step__divider--button",color:"light",paddingTopBottom:0})):i("",!0),e.displayCloseModalButton?(t(),r(H,{key:3,class:m(["summary-step__close","summary-step__close__button"]),type:"secondary","icon-reverse":"",color:"darkgrey",size:"regular",onClick:v[0]||(v[0]=o=>z())},{default:c(()=>[y(" Fermer ")]),_:1})):e.hiddenButton?i("",!0):(t(),r(H,{key:4,class:m(["summary-step__validate","summary-step__validate__button",{"summary-step__validate__button--fullwidth":e.btnFullWidth}]),icon:"arrow-right","icon-reverse":"",size:"regular",onClick:v[1]||(v[1]=o=>$()),isLoading:e.isLoading,disabled:e.nextStepDisabled,style:I(B.value)},{default:c(()=>[y(l(e.button),1)]),_:1},8,["class","isLoading","disabled","style"]))],2)])}}}),ve=R(V,[["__scopeId","data-v-4881525d"]]);V.__docgenInfo={exportName:"default",displayName:"SummaryStep",description:"",tags:{},props:[{name:"btnFullWidth",required:!1,type:{name:"boolean"}},{name:"id",required:!0,type:{name:"string"}},{name:"showDetails",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"subtitleTag",required:!1,type:{name:"HeaderTag"},defaultValue:{func:!1,value:"'h3'"}},{name:"titleTag",required:!1,type:{name:"HeaderTag"},defaultValue:{func:!1,value:"'h2'"}},{name:"button",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Étape suivante'"}},{name:"buttonDivider",required:!1,type:{name:"boolean"}},{name:"displayCloseModalButton",required:!1,type:{name:"boolean"}},{name:"emptySpaceBottom",required:!1,type:{name:"EmptySpaceBottom"},defaultValue:{func:!1,value:"() => ({ active: false })"}},{name:"hasHeader",required:!1,type:{name:"boolean"}},{name:"header",required:!0,type:{name:"HeaderType"}},{name:"image",required:!1,type:{name:"Image"}},{name:"isLoading",required:!1,type:{name:"boolean"}},{name:"hiddenButton",required:!1,type:{name:"boolean"}},{name:"nextStepDisabled",required:!1,type:{name:"boolean"}},{name:"price",required:!0,type:{name:"PriceType"}},{name:"steps",required:!1,type:{name:"Array",elements:[{name:"StepsType"}]}},{name:"stickyDesktop",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"block"'},{name:'"button"'},{name:'"bottom"'}]},defaultValue:{func:!1,value:"'default'"}}],events:[{name:"nextStep"},{name:"closeModal"},{name:"stepIcon"}],slots:[{name:"image"},{name:"input",scoped:!0,bindings:[{name:"id",title:"binding"}]}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/molecules/OrderSummary/SummaryStep/SummaryStep.vue"]};const be=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"}));export{ve as S,be as _};
