import{b as k,c as w,f as b}from"./focusTrap-CkRmwrmc.js";import{a as B}from"./index-ADTFLffw.js";import{l as q,c as C,w as $,o as P,a as T,m as z,a0 as m,b as n,x as _,L as c,H as N,d as y,z as V,p as u,t as i,q as D,s as g,y as l,e as E,T as j}from"./vue.esm-bundler-DD7xIM0D.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h=q({emits:["changed","cancel","validation"],model:{prop:"showPopover",event:"changed"},props:{cancelButton:{required:!1,type:String},content:{required:!1,type:String},direction:{required:!1,default:"Right Bottom",type:String},focusTrap:{required:!1,default:!1,type:Boolean},title:{required:!1,type:String},type:{required:!1,type:String},validateButton:{required:!1,type:String},showPopover:{required:!1,type:Boolean}},directives:{bodyNoScroll:k,closeOnFocusOut:w,focusTrap:b},setup(e,t){let r=!1;const s=C({get(){return e.showPopover},set(o){t.emit("changed",o)}}),d=o=>{o.key==="Escape"&&a()};$(s,o=>{typeof window>"u"||(o?document.addEventListener("keydown",d):document.removeEventListener("keydown",d))},{immediate:!0});const S=()=>{const o=e.direction||"Right Bottom";return`${o.substring(0,1).toLowerCase()}${o.substring(1)}`.replace(/\s+/g,"")},a=()=>{t.emit("changed",!1),r=!1},v=()=>{a(),t.emit("cancel")},f=()=>{s.value=!1,r=!1,t.emit("validation")},p=()=>{const o=B();s.value&&!r&&(r=!0,b.initFocus(o.value))};return P(()=>{p()}),T(()=>{p()}),{close:a,escapeClose:d,getDirection:S,cancel:v,validation:f,show:s}}}),L=["aria-modal","open"],O={class:"popover__title",id:"popover_title"},I={class:"popover__content",id:"popover_content"},R={class:"popover__actions"},M={key:1,class:"popover__container popover__content--random"};function U(e,t,r,s,d,S){const a=z("SolarisButton"),v=m("body-no-scroll"),f=m("focus-trap"),p=m("close-on-focus-out");return n(),_(j,{name:"popover"},{default:c(()=>[e.show?N((n(),y("div",{key:0,class:V(["popover",[`popover--${e.getDirection()}`]])},[u("div",{class:"popover__background",onClick:t[0]||(t[0]=o=>e.close())}),e.type!=="random"?(n(),y("dialog",{key:0,id:"popover_container",class:"popover__container popover__content--confirm","aria-labelledby":"popover_title","aria-describedby":"popover_content","aria-modal":e.show,open:e.show,role:"dialog"},[u("p",O,i(e.title),1),u("div",I,i(e.content),1),u("div",R,[D(a,{onClick:t[1]||(t[1]=o=>e.cancel()),type:"secondary",size:"regular",color:"darkgrey",class:"popover__cancel"},{default:c(()=>[g(i(e.cancelButton),1)]),_:1}),e.type==="transactional"?(n(),_(a,{key:0,onClick:t[2]||(t[2]=o=>e.validation()),type:"primary",size:"regular",class:"popover__cancel"},{default:c(()=>[g(i(e.validateButton),1)]),_:1})):l("",!0),e.type==="danger"?(n(),_(a,{key:1,onClick:t[3]||(t[3]=o=>e.validation()),type:"primary",size:"regular",color:"danger",class:"popover__cancel"},{default:c(()=>[g(i(e.validateButton),1)]),_:1})):l("",!0)])],8,L)):l("",!0),e.type==="random"?(n(),y("div",M,[E(e.$slots,"default",{},void 0,!0)])):l("",!0)],2)),[[v,e.show],[f,e.focusTrap],[p,!0]]):l("",!0)]),_:3})}const H=F(h,[["render",U],["__scopeId","data-v-00dbaef9"]]);h.__docgenInfo={exportName:"default",displayName:"Popover",description:"",tags:{},props:[{name:"cancelButton",type:{name:"String"},required:!1},{name:"content",type:{name:"String"},required:!1},{name:"direction",type:{name:"String"},required:!1,defaultValue:{func:!1,value:"'Right Bottom'"}},{name:"focusTrap",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"title",type:{name:"String"},required:!1},{name:"type",type:{name:"String"},required:!1},{name:"validateButton",type:{name:"String"},required:!1},{name:"v-model",type:{name:"boolean"},required:!1}],events:[{name:"changed"},{name:"cancel"},{name:"validation"}],slots:[{name:"default"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/molecules/Popover/Popover.vue"]};const Q=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));export{H as S,Q as _};
