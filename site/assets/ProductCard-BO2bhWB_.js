import{l as z,c,m as p,b as a,x as d,L as s,p as u,J as U,y as t,d as r,u as b,z as F,F as N,C as O,s as k,t as n,q as j,N as D}from"./vue.esm-bundler-DD7xIM0D.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M=""+new URL("eco-responsable-BHwpUpll.svg",import.meta.url).href,A=""+new URL("made-in-france-Brb7tekp.svg",import.meta.url).href,H={key:1,class:"productCard__icons productCard__madeInFrance"},E=["src"],J=["src"],K={key:0,class:"productCard__badges"},G=["href","title"],Q={key:0,class:"productCard__details"},X={key:0,class:"productCard__ratings"},Y={key:0,class:"productCard__reviewCount"},Z={key:0,class:"productCard__priceWrapper"},$={class:"productCard__priceDetails"},x={key:0,class:"productCard__price"},ee={class:"productCard__price--integer"},ae={class:"productCard__price--decimal"},re={key:1,class:"productCard__priceCrossedOut"},te={key:1,class:"productCard__availability"},oe={key:0,class:"productCard__deadlines"},se={key:0,class:"productCard__offer"},ne={key:0,class:"productCard__option"},ie={key:1,class:"productCard__color"},le={key:0,class:"button__text"},de={key:0,class:"button__text"},q=z({__name:"ProductCard",props:{orientation:{default:"vertical"},title:{},url:{},image:{},badges:{},details:{},ecoResponsable:{type:Boolean},madeInFrance:{type:Boolean},color:{type:Boolean},isMultiVariant:{type:Boolean},rating:{},reviewCount:{},price:{},priceCrossedOut:{},priceTaxes:{},isInStock:{type:Boolean},availability:{},code:{},deadlines:{},offersLabel:{},addToCartLoading:{type:Boolean},hiddenUrl:{default:null}},emits:["addToCart","clickProduct","redirectProduct"],setup(S,{emit:P}){const o=S,m=P,_=c(()=>{if(o.price){const e=o.price.split(",");return e[0].length>3&&(e[0]=e[0].slice(0,e[0].length-3)+" "+e[0].slice(e[0].length-3)),e[1]=","+e[1],e}return null}),f=c(()=>o.priceTaxes&&(o.priceTaxes.toLowerCase()==="ht"||o.priceTaxes.toLowerCase()==="ttc")?o.priceTaxes.toUpperCase():""),B=()=>{m("addToCart",o.code)},w=()=>{const e=o.hiddenUrl||o.url;e&&window.location.assign(e),m("redirectProduct")},T=e=>{m("clickProduct"),o.hiddenUrl&&(e.preventDefault(),window.open(o.hiddenUrl,e.ctrlKey?"_blank":"_self"))},y=e=>e.startsWith("-")&&e.endsWith("%"),g=c(()=>{var e;return(e=o.badges)==null?void 0:e.find(l=>y(l.label??""))}),L=c(()=>{var e;return(e=o.badges)==null?void 0:e.slice(0,2).filter(l=>!y(l.label??""))}),I=c(()=>o.orientation==="horizontal"?"SolarisHorizontal":"SolarisVertical");return(e,l)=>{const V=p("SolarisPicture"),C=p("SolarisBadge"),R=p("SolarisStarRating"),h=p("SolarisButton");return a(),d(D(I.value),{class:"productCard"},{picture:s(()=>[u("div",{class:F(["productCard__imageWrapper",{"productCard__imageWrapper--placeholder":!e.image}])},[e.image?(a(),d(V,U({key:0,class:"productCard__image"},e.image),null,16)):t("",!0),e.ecoResponsable||e.madeInFrance?(a(),r("div",H,[e.ecoResponsable?(a(),r("img",{key:0,height:"32",src:b(M),width:"32"},null,8,E)):t("",!0),e.madeInFrance?(a(),r("img",{key:1,height:"32",src:b(A),width:"32"},null,8,J)):t("",!0)])):t("",!0)],2)]),badges:s(()=>[e.badges&&e.badges.length?(a(),r("div",K,[(a(!0),r(N,null,O(L.value,i=>(a(),d(C,{key:i.label,class:"productCard__badge",color:i.color},{default:s(()=>[k(n(i.label),1)]),_:2},1032,["color"]))),128))])):t("",!0)]),title:s(()=>[u("a",{href:e.url,class:"productCard__title",title:e.title,onClick:l[0]||(l[0]=i=>T(i))},n(e.title),9,G)]),description:s(()=>[e.details?(a(),r("span",Q,n(e.details),1)):t("",!0)]),ratings:s(()=>[e.rating&&e.reviewCount?(a(),r("div",X,[j(R,{value:e.rating},null,8,["value"]),e.orientation==="horizontal"?(a(),r("span",Y,n(e.reviewCount)+" avis",1)):t("",!0)])):t("",!0)]),price:s(()=>{var i;return[e.isInStock?(a(),r("div",Z,[u("div",$,[_.value?(a(),r("span",x,[u("span",ee,n(_.value[0]),1),u("span",ae,n(_.value[1])+" "+n(f.value),1)])):t("",!0),e.priceCrossedOut?(a(),r("span",re,n(e.priceCrossedOut)+" "+n(f.value),1)):t("",!0)]),g.value?(a(),d(C,{key:0,class:"productCard__badge productCard__badge--discount",color:(i=g.value)==null?void 0:i.color},{default:s(()=>{var v;return[k(n((v=g.value)==null?void 0:v.label),1)]}),_:1},8,["color"])):t("",!0)])):(a(),r("div",te,n(e.availability),1))]}),deadlines:s(()=>[e.deadlines&&e.orientation==="horizontal"?(a(),r("span",oe,n(e.deadlines),1)):t("",!0)]),offers:s(()=>[e.offersLabel?(a(),r("div",se,n(e.offersLabel),1)):t("",!0)]),options:s(()=>[e.isMultiVariant?(a(),r("div",ne," Plus dâ€™options disponibles ")):e.color?(a(),r("div",ie,"Plus de couleurs")):t("",!0)]),cta:s(()=>[e.isInStock?(a(),d(h,{key:0,class:"productCard__cart",type:"ghost",color:"darkgrey",icon:"cart-simple",isLoading:e.addToCartLoading,loadingCustom:"quiet","aria-label":"Ajouter au panier",iconReverse:"",onClick:B},{default:s(()=>[e.orientation==="horizontal"?(a(),r("span",le," Ajouter au panier ")):t("",!0)]),_:1},8,["isLoading"])):(a(),d(h,{key:1,class:"productCard__action",type:"ghost",color:"darkgrey",icon:"arrow-right","aria-label":"Voir le produit",iconReverse:"",onClick:w},{default:s(()=>[e.orientation==="horizontal"?(a(),r("span",de," Voir le produit ")):t("",!0)]),_:1}))]),_:1})}}}),ce=W(q,[["__scopeId","data-v-f27ede51"]]);q.__docgenInfo={exportName:"default",displayName:"ProductCard",description:"",tags:{},props:[{name:"orientation",required:!1,type:{name:"union",elements:[{name:'"horizontal"'},{name:'"vertical"'}]},defaultValue:{func:!1,value:"'vertical'"}},{name:"title",required:!1,type:{name:"string"}},{name:"url",required:!1,type:{name:"string"}},{name:"image",required:!1,type:{name:"Picture"}},{name:"badges",required:!1,type:{name:"Array",elements:[{name:"Badges"}]}},{name:"details",required:!1,type:{name:"string"}},{name:"ecoResponsable",required:!1,type:{name:"boolean"}},{name:"madeInFrance",required:!1,type:{name:"boolean"}},{name:"color",required:!1,type:{name:"boolean"}},{name:"isMultiVariant",required:!1,type:{name:"boolean"}},{name:"rating",required:!1,type:{name:"number"}},{name:"reviewCount",required:!1,type:{name:"number"}},{name:"price",required:!1,type:{name:"string"}},{name:"priceCrossedOut",required:!1,type:{name:"string"}},{name:"priceTaxes",required:!1,type:{name:"union",elements:[{name:'"ht"'},{name:'"ttc"'},{name:'"HT"'},{name:'"TTC"'}]}},{name:"isInStock",required:!1,type:{name:"boolean"}},{name:"availability",required:!1,type:{name:"string"}},{name:"code",required:!1,type:{name:"string"}},{name:"deadlines",required:!1,type:{name:"string"}},{name:"offersLabel",required:!1,type:{name:"string"}},{name:"addToCartLoading",required:!1,type:{name:"boolean"}},{name:"hiddenUrl",required:!1,type:{name:"union",elements:[{name:"string"},{name:"null"}]},defaultValue:{func:!1,value:"null"}}],events:[{name:"addToCart"},{name:"clickProduct"},{name:"redirectProduct"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/organisms/ProductCard/ProductCard.vue"]};const me=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));export{ce as S,me as _};
