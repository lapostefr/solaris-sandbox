import{l as I,E as g,G as S,r as v,a as j,o as T,b as n,d as t,z as i,t as o,y as d,p as u,H as _,S as w,u as z,s as A}from"./vue.esm-bundler-DD7xIM0D.js";import{g as U}from"./generateId-DPOzJEtM.js";const G=["for"],O=["aria-describedby"],Q=["disabled"],H=["id","min","max","disabled"],K={key:1,class:"numberField__text"},P={key:3,class:"numberField__message"},F=I({__name:"NumberField",props:g({dataError:{},disabled:{type:Boolean},error:{type:Boolean},id:{},label:{},max:{},message:{},min:{default:1},small:{type:Boolean},type:{default:"quiet"}},{modelValue:{},modelModifiers:{}}),emits:g(["input"],["update:modelValue"]),setup(m,{emit:q}){const a=m,b=q,E=U,r=S(m,"modelValue"),p=v(""),f=v(null),h=e=>e>a.max?a.max:e<a.min?a.min:e,k=()=>{var e,s,l;return a.dataError&&((e=a.dataError)==null?void 0:e.active)&&((l=(s=a.dataError)==null?void 0:s.message)==null?void 0:l.length)},M=e=>{const s=(e==null?void 0:e.target).value;r.value=s?h(parseInt(s)):a.min},V=()=>{a.disabled||r.value===a.max||(r.value++,b("input",r.value))},N=()=>{a.disabled||r.value===a.min||(r.value--,b("input",r.value))},B=e=>["e","E","+","-","."].includes(e.key)?(e.preventDefault(),!1):!0,D=()=>{var e,s;return(e=a.dataError)!=null&&e.active&&((s=a.dataError)!=null&&s.message)?p.value:void 0},c=()=>{const e=f.value;p.value=e&&e.id?e.id:"error-message"};return j(()=>{c()}),T(()=>{c()}),(e,s)=>{var l,y;return n(),t("div",{class:i(["numberField",[`numberField--${e.type}`,{"numberField--disabled":e.disabled},{"numberField--small":e.small},{"numberField--max":r.value===e.max}]])},[e.label?(n(),t("label",{key:0,class:i(["numberField__label numberField__label--outside",[{"numberField--disabled":e.disabled}]]),for:e.id||null},o(e.label),11,G)):d("",!0),u("div",{class:i(["numberField__inner",[{"numberField--error":e.error||e.dataError&&e.dataError.active}]]),"aria-describedby":D()},[u("button",{"aria-label":"Diminuer la quantité de un",class:i({numberField__btn:!0,"numberField__btn--disabled":r.value<=1}),disabled:r.value<=1,onClick:N}," - ",10,Q),_(u("input",{"onUpdate:modelValue":s[0]||(s[0]=C=>r.value=C),class:"numberField__input",ref:"input",type:"number",id:e.id||null,min:e.min,max:e.max,disabled:e.disabled,maxlength:4,"aria-label":"Saisir la quantité",onKeydown:B,onInput:M},null,40,H),[[w,r.value]]),u("button",{"aria-label":"Augmenter la quantité de un",class:i({numberField__btn:!0,"numberField__btn--disabled":r.value===e.max}),onClick:V}," + ",2)],10,O),r.value===e.max&&!e.disabled?(n(),t("span",K," Quantité max. ")):d("",!0),k()?_((n(),t("p",{key:2,class:"numberField__error-message",ref_key:"errorMessage",ref:f,"aria-live":"polite"},[A(o((l=e.dataError)==null?void 0:l.message),1)])),[[z(E),"numberField-error-message--"]]):d("",!0),e.message&&!((y=e.dataError)!=null&&y.active)?(n(),t("p",P,o(e.message),1)):d("",!0)],2)}}});F.__docgenInfo={exportName:"default",displayName:"NumberField",description:"",tags:{},props:[{name:"dataError",required:!1,type:{name:"DataErrorType"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"id",required:!1,type:{name:"string"}},{name:"label",required:!1,type:{name:"string"}},{name:"max",required:!0,type:{name:"number"}},{name:"message",required:!1,type:{name:"string"}},{name:"min",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"small",required:!1,type:{name:"boolean"}},{name:"type",required:!1,type:{name:"union",elements:[{name:'"emphasis"'},{name:'"default"'},{name:'"quiet"'},{name:'"ghost"'}]},defaultValue:{func:!1,value:"'quiet'"}}],events:[{name:"input"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/atoms/NumberField/NumberField.vue"]};const L=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"}));export{F as _,L as a};
