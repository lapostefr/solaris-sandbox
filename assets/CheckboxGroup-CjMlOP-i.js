import{l as $,r as i,c as L,a as H,o as R,m as J,b as s,d as c,p as m,H as V,u as q,s as B,t as p,y as g,x as N,L as G,F as K,C as Q,z as I}from"./vue.esm-bundler-DD7xIM0D.js";import{g as W}from"./generateId-DPOzJEtM.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"checkbox-group"},Z=["role","aria-describedby","aria-labelledby"],ee={class:"checkbox-nesting__labelParent"},oe={class:"checkbox-nesting__labelOption"},M=$({__name:"CheckboxGroup",props:{nesting:{type:Boolean},options:{},disabled:{type:Boolean},layout:{default:"vertical"},readonly:{type:Boolean},color:{default:"emphasis"},error:{type:Boolean},dataError:{}},emits:["input"],setup(S,{emit:x}){const o=S,z=x,b=W,d=i(!1),f=i(""),h=i(null),y=i(""),k=i(null),U=L(()=>({"checkbox-group__child":o.layout==="vertical nested"||o.nesting,"checkbox-group__option--horizontal":o.layout==="horizontal"&&!o.nesting,"checkbox-group__option--vertical":o.layout==="vertical"&&!o.nesting})),j=L(()=>(o.options.optionsList.every(e=>e.checked)&&(d.value=!1),!!d.value)),w=(e,r)=>o.error||o.dataError&&o.dataError.active&&!(e||r),A=()=>{var e,r;return(e=o.dataError)!=null&&e.active&&((r=o.dataError)!=null&&r.message)?f.value:void 0},D=()=>o.options.legend||o.options.groupName?y.value:void 0,v=()=>o.options.optionsList.forEach(e=>{e.checked=o.options.parent.checked}),_=(e,r)=>{const t=o.options.parent;t&&(o.layout==="vertical nested"||o.nesting)&&(r==="parent"?v():(d.value=!0,e?t.checked=!0:o.options.optionsList.every(n=>!n.checked)&&(t.checked=!1))),z("input",o.options.optionsList.filter(n=>n.checked),e)},l=o.options.parent;o.nesting&&l&&(l!=null&&l.checked&&v(),o.options.optionsList.some(e=>e.checked)&&(d.value=!0,l.checked=!0));const E=()=>{const e=h.value;f.value=e&&e.id?e.id:"error-message"},F=()=>{var e,r,t;return o.dataError&&((e=o.dataError)==null?void 0:e.active)&&((t=(r=o.dataError)==null?void 0:r.message)==null?void 0:t.length)},O=()=>o.options.legend?o.options.legend:o.options.groupName,C=()=>{const e=k.value;y.value=e&&e.id?e.id:"legend"},T=()=>{var e;return(e=o.dataError)!=null&&e.active||o.error?"group":void 0};return H(()=>{E(),C()}),R(()=>{E(),C()}),(e,r)=>{var n;const t=J("SolarisCheckbox");return s(),c("div",Y,[m("fieldset",{class:I(["checkbox-group__wrapper",[{"checkbox-group--error":e.error||e.dataError&&e.dataError.active}]]),role:T(),"aria-describedby":A(),"aria-labelledby":D()},[e.options.legend||e.options.groupName?V((s(),c("legend",{key:0,class:"checkbox-group__name",ref_key:"legend",ref:k},[B(p(O()),1)])),[[q(b),"legend--"]]):g("",!0),e.options.parent&&(e.layout==="vertical nested"||e.nesting)?(s(),N(t,{key:1,id:e.options.parent.id,name:e.options.parent.name,color:e.color,disabled:e.disabled,readonly:e.readonly,indeterminate:j.value,class:"checkbox-group__parent",modelValue:e.options.parent.checked,"onUpdate:modelValue":r[0]||(r[0]=a=>e.options.parent.checked=a),onInput:r[1]||(r[1]=a=>_(a,"parent"))},{default:G(()=>[m("span",ee,p(e.options.parent.value),1)]),_:1},8,["id","name","color","disabled","readonly","indeterminate","modelValue"])):g("",!0),(s(!0),c(K,null,Q(e.options.optionsList,(a,P)=>(s(),N(t,{key:`${a.id}-${P}`,id:a.id,name:a.name,color:e.color,disabled:e.disabled||a.disabled,readonly:e.readonly,error:w(e.disabled||a.disabled,a.readonly),class:I(["checkbox-group__option",U.value]),modelValue:a.checked,"onUpdate:modelValue":u=>a.checked=u,onInput:r[2]||(r[2]=u=>_(u,"option"))},{default:G(()=>[m("span",oe,p(a.value),1)]),_:2},1032,["id","name","color","disabled","readonly","error","class","modelValue","onUpdate:modelValue"]))),128)),F()?V((s(),c("p",{key:2,class:"checkbox-group__error-message",ref_key:"errorMessage",ref:h,"aria-live":"polite"},[B(p((n=e.dataError)==null?void 0:n.message),1)])),[[q(b),"checkbox-group-error-message--"]]):g("",!0)],10,Z)])}}}),re=X(M,[["__scopeId","data-v-17bc2248"]]);M.__docgenInfo={exportName:"default",displayName:"CheckboxGroup",description:"",tags:{},props:[{name:"nesting",required:!1,type:{name:"boolean"}},{name:"options",required:!0,type:{name:"Group"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"layout",required:!1,type:{name:"union",elements:[{name:'"vertical"'},{name:'"vertical nested"'},{name:'"horizontal"'}]},defaultValue:{func:!1,value:"'vertical'"}},{name:"readonly",required:!1,type:{name:"boolean"}},{name:"color",required:!1,type:{name:"union",elements:[{name:'"emphasis"'},{name:'"quiet"'},{name:'"default"'},{name:'"error"'},{name:'"vsmp"'}]},defaultValue:{func:!1,value:"'emphasis'"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"dataError",required:!1,type:{name:"DataErrorType"}}],events:[{name:"input"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/atoms/Checkbox/Group/CheckboxGroup.vue"]};const se=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));export{re as S,se as _};
