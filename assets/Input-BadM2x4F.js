import{l as se,E as R,r as b,P as te,G as oe,a as ie,o as re,m as C,b as l,d as o,u as a,p,t as r,z as u,y as i,e as N,x as y,L as g,H as K,X as ue,D as c,v,N as de,q as U,J as me,F as pe,C as fe,T as ye,s as ge}from"./vue.esm-bundler-DD7xIM0D.js";import{u as be}from"./useInput-MMiNY_C_.js";import{L as j}from"./types-Dd7QR7uO.js";import{g as ce}from"./generateId-DPOzJEtM.js";import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";const he=["for"],_e=["readonly","disabled","autocomplete","maxlength","placeholder","id","name","type","aria-describedby","min","max"],qe=["for"],Ve={key:0,class:"input__unit"},ke=["title"],Se={key:1},we={class:"input__tooltip"},Ee={key:0,class:"suggestions"},Me=["onMousedown","onKeydown"],Be={key:2,class:"input__message"},A=se({__name:"Input",props:R({dataError:{},aria:{},autocomplete:{default:"on"},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean},error:{type:Boolean,default:!1},hideLabel:{type:Boolean,default:!1},icon:{},id:{},inputRefStr:{default:"input"},isQuiet:{type:Boolean,default:!1},label:{},labelPosition:{default:"inside"},mandatory:{type:Boolean,default:!1},message:{},max:{},maxlength:{},min:{},name:{},numericonly:{type:Boolean},placeholder:{},readonly:{type:Boolean,default:!1},size:{default:"medium"},success:{type:Boolean,default:!1},suggestions:{},type:{default:"text"},tooltip:{},unit:{}},{modelValue:{},modelModifiers:{}}),emits:R(["focus","suggestionSelected","goDown","blur","suggestionSelect","input"],["update:modelValue"]),setup(h,{emit:F}){var $;const t=h,Q=F,O=ce,_=b(),{aria:G,max:q,inputRefStr:H,maxlength:V,min:k,numericonly:J,suggestions:S,type:m}=te(t),{suggestionHover:X,suggestionsLayerIsVisible:w,focus:E,goDown:W,goUp:Y,blur:M,suggestionSelect:B,change:I}=be(Q,G,q,H,V,k,J,S,_,m),f=oe(h,"modelValue"),P=b(null),D=b(""),Z=()=>{var e,n,d;return t.dataError&&((e=t.dataError)==null?void 0:e.active)&&((d=(n=t.dataError)==null?void 0:n.message)==null?void 0:d.length)},x=e=>{t.type==="number"&&["-"].includes(e.key)&&e.preventDefault()},ee=()=>!t.label&&t.placeholder?t.placeholder.toString():void 0,ae=()=>{var e,n;return(e=t.dataError)!=null&&e.active&&((n=t.dataError)!=null&&n.message)?D.value:void 0},L=()=>{const e=P.value;D.value=e&&e.id?e.id:"error-message"};return ie(()=>{L()}),re(()=>{L()}),w.value=!!(($=t.suggestions)!=null&&$.length),(e,n)=>{const d=C("SolarisIcon"),ne=C("SolarisTooltip");return l(),o("div",{class:u(["input",[`input--${e.labelPosition}`,{"input--small":e.size=="small"||e.size=="compact","input--medium":e.size=="medium"||e.size=="default","input--filled":!!f.value,"input--only":!e.placeholder&&!f.value}]])},[e.label&&e.labelPosition===a(j).outside?(l(),o("label",{key:0,class:"input__label-tag",for:e.id},[p("span",{class:u(["input__label input__label--outside",[`input--${e.labelPosition}`,{"visually-hidden":e.hideLabel,"input--disabled":e.disabled,"input__label--mandatory":e.mandatory}]])},r(e.label),3)],8,he)):i("",!0),p("div",{class:u(["input__global",[{"input__global--disabled":e.disabled,"input__global--readonly":e.readonly,"input__global--isQuiet":e.isQuiet,"input__global--error":e.error||e.dataError&&e.dataError.active}]])},[N(e.$slots,"inputRight",{},void 0,!0),(l(),y(de(e.label?"div":"label"),{class:u([{"input__wrapper--label":!e.label},"input__wrapper"]),aria:ee()},{default:g(()=>[K(p("input",{ref_key:"inputRef",ref:_,"onUpdate:modelValue":n[0]||(n[0]=s=>f.value=s),readonly:e.readonly,disabled:e.disabled,autocomplete:e.autocomplete,maxlength:a(m)!=="number"?a(V):void 0,placeholder:e.placeholder,onKeydown:[n[1]||(n[1]=c(v(s=>a(W)(),["prevent"]),["down"])),n[2]||(n[2]=c(v(s=>a(Y)(),["prevent"]),["up"])),x],onFocus:n[3]||(n[3]=(...s)=>a(E)&&a(E)(...s)),onBlur:n[4]||(n[4]=(...s)=>a(M)&&a(M)(...s)),onInput:n[5]||(n[5]=(...s)=>a(I)&&a(I)(...s)),class:u(["input__field",{"input__field--placeholder":e.placeholder&&e.placeholder.length>0}]),id:e.id,name:e.name,type:a(m)||"text","aria-describedby":ae(),min:a(m)==="number"?a(k)||0:void 0,max:a(m)==="number"?a(q):void 0},null,42,_e),[[ue,f.value]]),e.label&&e.labelPosition===a(j).inside?(l(),o("label",{key:0,for:e.id,class:"input__label-tag"},[p("span",{class:u([[`input--${e.labelPosition}`,{"visually-hidden":e.hideLabel,"input--disabled":e.disabled,"input__label--mandatory":e.mandatory}],"input__label input__label--inside"])},r(e.label),3)],8,qe)):i("",!0)]),_:1},8,["class","aria"])),N(e.$slots,"inputLeft",{},void 0,!0),e.unit?(l(),o("span",Ve,[e.unit.description?(l(),o("abbr",{key:0,title:e.unit.description},r(e.unit.label),9,ke)):(l(),o("span",Se,r(e.unit.label),1))])):i("",!0),e.icon&&!e.tooltip&&!e.success?(l(),y(d,{key:1,class:"input__icon",name:e.icon},null,8,["name"])):i("",!0),e.icon&&e.tooltip&&!e.success?(l(),y(ne,me({key:2,class:"small__popover"},{long:!0,trigger:"hover",placement:"right"}),{tooltip:g(()=>[p("div",we,r(e.tooltip),1)]),trigger:g(()=>[U(d,{class:"input__icon input__icon--tooltip",name:e.icon,type:"bold"},null,8,["name"])]),_:1},16)):i("",!0),e.success?(l(),y(d,{key:3,class:"input__icon input__icon--success",name:"action-check"})):i("",!0),U(ye,{name:"slide-fade"},{default:g(()=>[a(w)?(l(),o("div",Ee,[(l(!0),o(pe,null,fe(a(S),({label:s,value:z},T)=>(l(),o("div",{class:u(["suggestions__item",{"suggestions__item--hover":T===a(X)}]),key:`${e.id}-suggestion-${T}`,onMousedown:le=>a(B)({label:s,value:z}),onKeydown:c(v(le=>a(B)({label:s,value:z}),["prevent"]),["enter"]),tabindex:"0"},r(s),43,Me))),128))])):i("",!0)]),_:1})],2),Z()?K((l(),o("p",{key:1,class:"input__error-message",ref_key:"errorMessage",ref:P,"aria-live":"polite"},[ge(r(e.dataError?e.dataError.message:""),1)])),[[a(O),"input-error-message--"]]):i("",!0),e.message&&!e.dataError.active?(l(),o("p",Be,r(e.message),1)):i("",!0)],2)}}}),Ie=ve(A,[["__scopeId","data-v-363f4641"]]);A.__docgenInfo={exportName:"default",displayName:"Input",description:"",tags:{},props:[{name:"dataError",required:!1,type:{name:"DataErrorType"}},{name:"aria",required:!1,type:{name:`{
  [key: string]: string
}`}},{name:"autocomplete",required:!1,type:{name:"union",elements:[{name:'"on"'},{name:'"off"'}]},defaultValue:{func:!1,value:"'on'"}},{name:"autofocus",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hideLabel",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"icon",required:!1,type:{name:"string"}},{name:"id",required:!0,type:{name:"string"}},{name:"inputRefStr",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'input'"}},{name:"isQuiet",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"label",required:!1,type:{name:"string"}},{name:"labelPosition",required:!1,type:{name:"LabelPosition"},defaultValue:{func:!1,value:"'inside'"}},{name:"mandatory",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"message",required:!1,type:{name:"string"}},{name:"max",required:!1,type:{name:"number"}},{name:"maxlength",required:!1,type:{name:"number"}},{name:"min",required:!1,type:{name:"number"}},{name:"name",required:!0,type:{name:"string"}},{name:"numericonly",required:!1,type:{name:"boolean"}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"readonly",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"compact"'},{name:'"small"'},{name:'"medium"'}]},defaultValue:{func:!1,value:"'medium'"}},{name:"success",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"suggestions",required:!1,type:{name:"Array",elements:[{name:"SuggestionType"}]}},{name:"type",required:!1,type:{name:"union",elements:[{name:'"text"'},{name:'"number"'},{name:'"email"'},{name:'"tel"'}]},defaultValue:{func:!1,value:"'text'"}},{name:"tooltip",required:!1,type:{name:"string"}},{name:"unit",required:!1,type:{name:"UnitProp"}},{name:"numericOnly",defaultValue:{func:!1,value:"false"}}],events:[{name:"focus"},{name:"suggestionSelected"},{name:"goDown"},{name:"blur"},{name:"suggestionSelect"},{name:"input"}],slots:[{name:"inputRight"},{name:"inputLeft"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/atoms/TextInput/Default/Input.vue"]};const Te=Object.freeze(Object.defineProperty({__proto__:null,default:Ie},Symbol.toStringTag,{value:"Module"}));export{Ie as S,Te as _};
