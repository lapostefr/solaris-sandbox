import{l as Q,r as f,c as k,o as X,m as Y,b as m,d as y,p as w,q as P,x as L,L as M,s as x,J as C,M as q,N as S,y as g,F as Z,C as ee,t as I}from"./vue.esm-bundler-DD7xIM0D.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";const te={key:0,class:"pagination"},se=["disabled"],le={class:"pagination__numbers"},oe=["disabled"],E=Q({__name:"Pagination",props:{pageParam:{default:"page"},perPage:{},total:{},url:{},value:{},withLinks:{type:Boolean}},emits:["input"],setup(H,{emit:O}){const o=H,T=O,u=f([]),r=f([]),c=f(8),v=f(!0),V=f(0),_=f(!1),h=a=>{v.value=!1,_.value=!0,o.value!==a&&(u.value=[],r.value=[],T("input",a))},N=()=>o.withLinks?"a":"div",b=a=>{let e={};if(o.withLinks){if(!o.url)throw new Error("Missing required url props with withLinks props");const s=new URL(o.url),t=new URLSearchParams(s.search);a>1?t.set(o.pageParam,a.toString()):t.delete(o.pageParam);const i=t.toString();e={...e,href:s.pathname+(i.length?"?"+i:"")}}return e},l=k(()=>Math.ceil(o.total/o.perPage)),n=k(()=>{const a=Array(l.value).fill(null).map((t,i)=>i+1),e=p(10,o.value),s=o.value%10===0?o.value+10:d(10,o.value);return a.reduce((t,i)=>{j(t,i);const G=i<l.value,K=l.value<=c.value;return(!v.value||v.value&&(G||K))&&A(t,i),u.value.length||o.value===1&&i>3&&l.value>c.value?t:o.value===l.value&&!r.value.length&&l.value>c.value?(i<o.value-3||t.push(i),t):(i>=e&&i<=s&&t.push(i),t)},[])}),j=(a,e)=>{e<p(10,o.value)&&r.value.forEach(s=>{e%10===0&&e<s&&e>=s-100&&a.push(e),e%100===0&&e<s-100&&a.push(e),s<=20&&e<s&&e<10&&a.push(e)})},A=(a,e)=>{u.value.forEach(s=>{const t=l.value-s<=10?!0:s>=l.value-10;if(e<p(10,s)&&s>=10)return a;F(a,e,s,t),R(a,e,s,t),U(a,e,s)})},F=(a,e,s,t)=>{e%10===0&&e%100!==0&&(e<d(100,s+1)&&e>p(100,s)&&!t||s>=p(100,l.value)-10)&&a.push(e),e%10===0&&e%100===0&&e<d(100,s+1)&&a.push(e)},R=(a,e,s,t)=>{e>s&&e%100===0&&!t&&a.push(e)},U=(a,e,s)=>{e%10!==0&&(e<=d(10,s+1)||s>=p(10,l.value)-10)&&a.push(e)},W=k(()=>r.value.length===1?!1:n.value[0]>1),B=a=>{const e=a>3&&a<=l.value,s=l.value>c.value;return v.value&&!_.value&&e&&s},$=k(()=>{const a=l.value<=c.value,e=n.value[n.value.length-1],s=l.value>c.value;return v.value&&s?!0:a||u.value.length===1||l.value<=10&&o.value!==1||l.value%10===1&&e===l.value-1||e===l.value-10||e===l.value-100?!1:l.value<20&&o.value<10?!u.value.length:!n.value.some(t=>t===l.value)}),z=()=>{const a=o.value<110?p(100,o.value)-1:d(100,o.value),e=String(o.value).length===2?d(10,o.value):a;r.value=[...r.value,r.value.length?n.value[0]:e]},D=()=>{u.value=[...u.value,u.value.length?n.value[n.value.length-1]:o.value]},J=()=>{V.value++;const a=_.value&&V.value===1;(!v.value||a)&&D(),v.value=!1,_.value=!1},d=(a,e)=>a*Math.ceil(e/a),p=(a,e)=>a*Math.floor(e/a);return X(()=>{D()}),(a,e)=>{const s=Y("SolarisIcon");return a.total?(m(),y("div",te,[w("button",{disabled:a.value===1,class:"pagination__item pagination__item--prev",title:"Cliquer pour revenir en arriÃ¨re",onClick:e[0]||(e[0]=t=>h(a.value-1))},[P(s,{name:"arrow-large-left"})],8,se),w("div",le,[n.value.some(t=>t===1)?g("",!0):(m(),L(S(N()),C({key:0,class:"pagination__item pagination__item--other"},b(1),q(a.withLinks?{}:{click:()=>h(1)})),{default:M(()=>[x(" 1 ")]),_:1},16)),W.value?(m(),y("button",{key:1,"arial-label":"Voir plus de pages",class:"pagination__item pagination__item--other",onClick:z},[P(s,{name:"settings-menu-action"})])):g("",!0),(m(!0),y(Z,null,ee(n.value,t=>(m(),L(S(N()),C({class:["pagination__item",{"pagination__item--current":a.value===t,"visually-hidden":B(t)}]},b(t),q(a.withLinks?{}:{click:()=>h(t)}),{key:t,tabindex:B(t)?-1:void 0}),{default:M(()=>[x(I(t),1)]),_:2},1040,["class","tabindex"]))),128)),$.value?(m(),y("button",{key:2,"arial-label":"Voir plus de pages",class:"pagination__item pagination__item--other",onClick:J},[P(s,{name:"settings-menu-action"})])):g("",!0),l.value&&!n.value.some(t=>t===l.value)?(m(),L(S(N()),C({key:3,class:"pagination__item pagination__item--other"},b(l.value),q(a.withLinks?{}:{click:()=>h(l.value)})),{default:M(()=>[x(I(l.value),1)]),_:1},16)):g("",!0)]),w("button",{disabled:a.value===l.value,class:"pagination__item pagination__item--next",title:"Cliquer pour avancer",onClick:e[1]||(e[1]=t=>h(a.value+1))},[P(s,{name:"arrow-large-right"})],8,oe)])):g("",!0)}}}),ie=ae(E,[["__scopeId","data-v-20c9506e"]]);E.__docgenInfo={exportName:"default",displayName:"Pagination",description:"",tags:{},props:[{name:"pageParam",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'page'"}},{name:"perPage",required:!0,type:{name:"number"}},{name:"total",required:!0,type:{name:"number"}},{name:"url",required:!1,type:{name:"string"}},{name:"value",required:!0,type:{name:"number"}},{name:"withLinks",required:!1,type:{name:"boolean"}}],events:[{name:"input"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/molecules/Pagination/Pagination.vue"]};const re=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"}));export{ie as S,re as _};
