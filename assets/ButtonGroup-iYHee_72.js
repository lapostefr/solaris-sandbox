import{l as O,E as j,G as K,r as n,c as G,a as U,o as R,m as L,b as l,d as u,p as v,F as w,C as H,z as E,D as B,v as D,x as P,s as J,t as I,H as Q,u as W,y as X}from"./vue.esm-bundler-DD7xIM0D.js";import{g as Y}from"./generateId-DPOzJEtM.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x=["role","aria-describedby"],ee=["for","onKeydown","aria-checked","onClick","tabindex"],ae=["id","value","checked","name","disabled"],oe={class:"buttonGroup__error-message-text"},M=O({__name:"ButtonGroup",props:j({dataError:{},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},id:{},name:{},options:{},readonly:{type:Boolean,default:!1},responsive:{type:Boolean,default:!0},small:{type:Boolean,default:!1},value:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(b){const s=b,d=K(b,"modelValue"),V=Y,p=n([]),y=n(null),g=n(""),t=n(0),f=n(0),m=n(-1),$=e=>{d.value=e.target.value},q=()=>{var e,a,o;return s.dataError&&((e=s.dataError)==null?void 0:e.active)&&((o=(a=s.dataError)==null?void 0:a.message)==null?void 0:o.length)},A=G(()=>{var e;return(e=s.dataError)!=null&&e.active||s.error?"radiogroup":void 0}),C=G(()=>{var e,a;return(e=s.dataError)!=null&&e.active&&((a=s.dataError)!=null&&a.message)?g.value:void 0}),_=e=>{e.target.click()},k=()=>{const e=y.value;g.value=e&&e.id?e.id:"error-message"},F=()=>{f.value=0},T=e=>{const a=s.options,o=a.findIndex(c=>!c.disabled),i=a[0].disabled;t.value===0&&i&&(t.value=o),p.value[`${s.id}-${t.value}`].focus()},S=e=>{const a=s.options.length;let o=(t.value+e+a)%a;for(;s.options[o].disabled;)o=(o+e+a)%a;t.value=o,p.value[`${s.id}-${o}`].click()},z=e=>{const o={ArrowRight:1,ArrowLeft:-1,ArrowUp:-1,ArrowDown:1}[e.key];o!==void 0?(S(o),(e.key==="ArrowUp"||e.key==="ArrowDown")&&e.preventDefault()):e.key==="Tab"&&(f.value=-1,m.value!==-1&&(t.value=m.value))},N=e=>{t.value=e,m.value=e};return U(()=>{k()}),R(()=>{k()}),(e,a)=>{var i;const o=L("solaris-icon");return l(),u("div",{class:E(["buttonGroup",[{"buttonGroup--error":e.error||e.dataError&&e.dataError.active,"buttonGroup--responsive":e.responsive},e.small?"buttonGroup--small":"buttonGroup--big"]])},[v("fieldset",{class:"buttonGroup__wrapper",role:A.value,"aria-describedby":C.value},[(l(!0),u(w,null,H(e.options,(r,c)=>(l(),u("label",{ref_for:!0,ref:h=>p.value[`${e.id}-${c}`]=h,class:E(["buttonGroup__section",[{"buttonGroup__section--active":d.value===r.value},{"buttonGroup--disabled":e.disabled||r.disabled}]]),for:`${e.id}-${r.value}`,key:r.value,onFocusin:T,onFocusout:F,onKeydown:[z,B(D(_,["prevent"]),["space"]),B(D(_,["prevent"]),["enter"])],role:"radio","aria-checked":d.value===r.value,onClick:h=>N(c),tabindex:f.value},[v("input",{class:"buttonGroup__radio",id:`${e.id}-${r.value}`,value:r.value,checked:d.value===r.value,name:e.name,disabled:e.disabled||e.readonly||r.disabled,type:"radio",onInput:$,tabindex:"-1"},null,40,ae),r.icon?(l(),P(o,{key:0,class:"icons__display",name:r.icon,size:e.small?"small":"big"},null,8,["name","size"])):(l(),u(w,{key:1},[J(I(r.label),1)],64))],42,ee))),128))],8,x),q()?Q((l(),u("p",{key:0,class:"buttonGroup__error-message",ref_key:"errorMessage",ref:y,"aria-live":"polite"},[v("span",oe,I((i=e.dataError)==null?void 0:i.message),1)])),[[W(V),"buttonGroup-error-message--"]]):X("",!0)],2)}}}),re=Z(M,[["__scopeId","data-v-0df2b5d9"]]);M.__docgenInfo={exportName:"default",displayName:"ButtonGroup",description:"",tags:{},props:[{name:"dataError",required:!1,type:{name:"DataErrorType"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"error",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"id",required:!0,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"ButtonGroupItem"}]}},{name:"readonly",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"responsive",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"small",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"value",required:!1,type:{name:"string"}}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/atoms/ButtonGroup/ButtonGroup.vue"]};const le=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));export{re as S,le as _};
