import{l as W,r as C,Y as S,o as F,k as T,m as k,b,d as v,p as i,q as g,L as l,e as p,s as L,t as B,x as j,y as _,O as w,z as V}from"./vue.esm-bundler-DD7xIM0D.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={key:0,class:"order-summary__validate order-summary__validate--sticky"},A={class:"order-summary__line"},R={class:"order-summary__line"},Y={class:"order-summary__item"},G={class:"order-summary__item order-summary__item__price"},O=W({__name:"OrderSummary",props:{showMobileDetails:{type:Boolean,default:!0},StepBtnFullWidth:{type:Boolean},stickyMobile:{type:Boolean},button:{default:"Étape suivante"},buttonDivider:{type:Boolean},displayCloseModalButton:{type:Boolean},emptySpaceBottom:{default:()=>({active:!1,height:0})},hasHeader:{type:Boolean},header:{},image:{},isLoading:{type:Boolean},hiddenButton:{type:Boolean},nextStepDisabled:{type:Boolean},price:{},steps:{},stickyDesktop:{default:"default"}},emits:["nextStep","stepIcon"],setup($,{emit:I}){const a=$,D=I,u=C(null),m=S({bottom:"0px",height:"auto",width:"",left:""}),c=S({increaseSpace:0,bottomSpaceHeight:0}),M=S({height:"110px"}),y=C(!1),h=S({maxHeight:"initial",paddingTop:"0px"}),f=()=>{D("nextStep")},q=e=>{D("stepIcon",e)},H=()=>{y.value=!y.value},d=()=>{var e;if(window.innerWidth>=1280){const t=(e=u==null?void 0:u.value)==null?void 0:e.getBoundingClientRect(),s=window.innerHeight,o=s-t.bottom;let n=t.top>0?t.top:0;n+=o>0?o:0;const r=s-n-c.increaseSpace,N=o>0?o:0,E=a.stickyDesktop==="block"?t.width-16:t.width;m.bottom=`${N}px`,m.height=`${c.bottomSpaceHeight}px`,m.width=`${E}px`,m.left=`${t.left}px`,a.stickyDesktop==="block"&&(h.maxHeight=`${r}px`)}else h.maxHeight="initial"},z=()=>{var s,o,n,r;const e=(s=a.emptySpaceBottom)==null?void 0:s.height,t=e?a.emptySpaceBottom.height:135;e&&(M.height=`${((o=a.emptySpaceBottom)==null?void 0:o.height)+10}px`),c.increaseSpace=(n=a.emptySpaceBottom)!=null&&n.active?t:0,c.bottomSpaceHeight=(r=a.emptySpaceBottom)!=null&&r.active&&a.stickyDesktop==="block"?t+60:100,d()};return F(()=>{z(),window.addEventListener("scroll",d),window.addEventListener("resize",d)}),T(()=>{window.removeEventListener("scroll",d),window.removeEventListener("resize",d)}),(e,t)=>{const s=k("SolarisSummaryStep"),o=k("SolarisModal"),n=k("SolarisButton");return b(),v("div",{class:V(["order-summary",{"order-summary--sticky-mobile":e.stickyMobile,"order-summary--sticky-desktop":e.stickyDesktop==="block","order-summary--chatbot":e.emptySpaceBottom&&e.emptySpaceBottom.active,"order-summary--chatbot--only":e.emptySpaceBottom&&e.emptySpaceBottom.active&&e.stickyDesktop!=="block"}]),ref_key:"orderSummary",ref:u},[i("div",{class:V(["order-summary__container",{"order-summary__container--sticky":e.stickyDesktop==="block"}]),style:w(h)},[g(s,{btnFullWidth:e.StepBtnFullWidth,class:"order-summary__element",id:"desktop",header:e.header,image:e.image,steps:e.steps,price:e.price,button:e.button,hasHeader:e.hasHeader,buttonDivider:e.buttonDivider,"hidden-button":e.hiddenButton,nextStepDisabled:e.nextStepDisabled,stickyDesktop:e.stickyDesktop,emptySpaceBottom:e.emptySpaceBottom,isLoading:e.isLoading,onNextStep:f,onStepIcon:q},{image:l(()=>[p(e.$slots,"logo",{},void 0,!0)]),input:l(()=>[p(e.$slots,"checkbox",{},void 0,!0)]),_:3},8,["btnFullWidth","header","image","steps","price","button","hasHeader","buttonDivider","hidden-button","nextStepDisabled","stickyDesktop","emptySpaceBottom","isLoading"]),g(o,{modelValue:y.value,"onUpdate:modelValue":t[0]||(t[0]=r=>y.value=r),class:"order__modal",title:e.header.title,size:"default"},{content:l(()=>[g(s,{id:"mobile",header:{...e.header,title:null},steps:e.steps,price:e.price,button:e.button,"display-close-modal-button":e.displayCloseModalButton,"show-details":e.showMobileDetails,onCloseModal:H,onNextStep:f,onStepIcon:q},{image:l(()=>[p(e.$slots,"logo",{},void 0,!0)]),input:l(()=>[p(e.$slots,"checkbox",{},void 0,!0)]),_:3},8,["header","steps","price","button","display-close-modal-button","show-details"])]),_:3},8,["modelValue","title"]),e.stickyMobile?(b(),v("div",P,[i("div",A,[i("div",R,[i("div",Y,[L(B(e.price.name)+" - ",1),i("button",{class:"order-summary__item__link",onClick:H}," Voir le détail ")])]),i("div",G,B(e.price.value)+"€ ",1)]),e.hiddenButton?_("",!0):(b(),j(n,{key:0,class:"order-summary__validate__button",icon:"arrow-right","icon-reverse":"",size:"regular",isLoading:e.isLoading,onClick:f},{default:l(()=>[L(B(e.button),1)]),_:1},8,["isLoading"])),p(e.$slots,"orderSummaryBottom",{},void 0,!0)])):_("",!0),i("div",{class:"order-summary__bottom-space",ref:"orderSummaryBottomSpace",style:w(m)},null,4)],6),e.emptySpaceBottom&&e.emptySpaceBottom.active&&e.stickyDesktop!=="block"?(b(),v("div",{key:0,class:"order-summary--empty-block",style:w(M)},null,4)):_("",!0)],2)}}}),J=U(O,[["__scopeId","data-v-cb86de4b"]]);O.__docgenInfo={exportName:"default",displayName:"OrderSummary",description:"",tags:{},props:[{name:"showMobileDetails",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"StepBtnFullWidth",required:!1,type:{name:"boolean"}},{name:"stickyMobile",required:!1,type:{name:"boolean"}},{name:"button",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Étape suivante'"}},{name:"buttonDivider",required:!1,type:{name:"boolean"}},{name:"displayCloseModalButton",required:!1,type:{name:"boolean"}},{name:"emptySpaceBottom",required:!1,type:{name:"EmptySpaceBottom"},defaultValue:{func:!1,value:"() => ({ active: false, height: 0 })"}},{name:"hasHeader",required:!1,type:{name:"boolean"}},{name:"header",required:!0,type:{name:"HeaderType"}},{name:"image",required:!1,type:{name:"Image"}},{name:"isLoading",required:!1,type:{name:"boolean"}},{name:"hiddenButton",required:!1,type:{name:"boolean"}},{name:"nextStepDisabled",required:!1,type:{name:"boolean"}},{name:"price",required:!0,type:{name:"PriceType"}},{name:"steps",required:!1,type:{name:"Array",elements:[{name:"StepsType"}]}},{name:"stickyDesktop",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"block"'},{name:'"button"'},{name:'"bottom"'}]},defaultValue:{func:!1,value:"'default'"}}],events:[{name:"nextStep"},{name:"stepIcon"}],slots:[{name:"logo"},{name:"checkbox"},{name:"orderSummaryBottom"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/molecules/OrderSummary/OrderSummary.vue"]};const X=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));export{J as S,X as _};
