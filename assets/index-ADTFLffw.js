import{r as E,w as S,f as j,u as _,g as I,h as P,c as g,a as W,o as A,i as k,j as M}from"./vue.esm-bundler-DD7xIM0D.js";function C(e,r){let n,i,u;const s=E(!0),c=()=>{s.value=!0,u()};S(e,c,{flush:"sync"});const l=typeof r=="function"?r:r.get,m=typeof r=="function"?void 0:r.set,d=j((t,a)=>(i=t,u=a,{get(){return s.value&&(n=l(),s.value=!1),i(),n},set(o){m==null||m(o)}}));return Object.isExtensible(d)&&(d.trigger=c),d}function L(e){return I()?(P(e),!0):!1}function y(e){return typeof e=="function"?e():_(e)}const x=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const q=Object.prototype.toString,N=e=>q.call(e)==="[object Object]",b=()=>{},B=F();function F(){var e,r;return x&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((r=window==null?void 0:window.navigator)==null?void 0:r.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function G(e,r){var n;if(typeof e=="number")return e+r;const i=((n=e.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:n[0])||"",u=e.slice(i.length),s=Number.parseFloat(i)+r;return Number.isNaN(s)?e:s+u}function h(e){var r;const n=y(e);return(r=n==null?void 0:n.$el)!=null?r:n}const O=x?window:void 0;function w(...e){let r,n,i,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,u]=e,r=O):[r,n,i,u]=e,!r)return b;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const s=[],c=()=>{s.forEach(t=>t()),s.length=0},l=(t,a,o,f)=>(t.addEventListener(a,o,f),()=>t.removeEventListener(a,o,f)),m=S(()=>[h(r),y(u)],([t,a])=>{if(c(),!t)return;const o=N(a)?{...a}:a;s.push(...n.flatMap(f=>i.map(v=>l(t,f,v,o))))},{immediate:!0,flush:"post"}),d=()=>{m(),c()};return L(d),d}let $=!1;function Q(e,r,n={}){const{window:i=O,ignore:u=[],capture:s=!0,detectIframe:c=!1}=n;if(!i)return b;B&&!$&&($=!0,Array.from(i.document.body.children).forEach(o=>o.addEventListener("click",b)),i.document.documentElement.addEventListener("click",b));let l=!0;const m=o=>u.some(f=>{if(typeof f=="string")return Array.from(i.document.querySelectorAll(f)).some(v=>v===o.target||o.composedPath().includes(v));{const v=h(f);return v&&(o.target===v||o.composedPath().includes(v))}}),t=[w(i,"click",o=>{const f=h(e);if(!(!f||f===o.target||o.composedPath().includes(f))){if(o.detail===0&&(l=!m(o)),!l){l=!0;return}r(o)}},{passive:!0,capture:s}),w(i,"pointerdown",o=>{const f=h(e);l=!m(o)&&!!(f&&!o.composedPath().includes(f))},{passive:!0}),c&&w(i,"blur",o=>{setTimeout(()=>{var f;const v=h(e);((f=i.document.activeElement)==null?void 0:f.tagName)==="IFRAME"&&!(v!=null&&v.contains(i.document.activeElement))&&r(o)},0)})].filter(Boolean);return()=>t.forEach(o=>o())}function V(){const e=E(!1),r=M();return r&&A(()=>{e.value=!0},r),e}function T(e){const r=V();return g(()=>(r.value,!!e()))}function p(e,r={}){const{window:n=O}=r,i=T(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let u;const s=E(!1),c=d=>{s.value=d.matches},l=()=>{u&&("removeEventListener"in u?u.removeEventListener("change",c):u.removeListener(c))},m=k(()=>{i.value&&(l(),u=n.matchMedia(y(e)),"addEventListener"in u?u.addEventListener("change",c):u.addListener(c),s.value=u.matches)});return L(()=>{m(),l(),u=void 0}),s}function R(e,r={}){function n(t,a){let o=y(e[y(t)]);return a!=null&&(o=G(o,a)),typeof o=="number"&&(o=`${o}px`),o}const{window:i=O,strategy:u="min-width"}=r;function s(t){return i?i.matchMedia(t).matches:!1}const c=t=>p(()=>`(min-width: ${n(t)})`,r),l=t=>p(()=>`(max-width: ${n(t)})`,r),m=Object.keys(e).reduce((t,a)=>(Object.defineProperty(t,a,{get:()=>u==="min-width"?c(a):l(a),enumerable:!0,configurable:!0}),t),{});function d(){const t=Object.keys(e).map(a=>[a,c(a)]);return g(()=>t.filter(([,a])=>a.value).map(([a])=>a))}return Object.assign(m,{greaterOrEqual:c,smallerOrEqual:l,greater(t){return p(()=>`(min-width: ${n(t,.1)})`,r)},smaller(t){return p(()=>`(max-width: ${n(t,-.1)})`,r)},between(t,a){return p(()=>`(min-width: ${n(t)}) and (max-width: ${n(a,-.1)})`,r)},isGreater(t){return s(`(min-width: ${n(t,.1)})`)},isGreaterOrEqual(t){return s(`(min-width: ${n(t)})`)},isSmaller(t){return s(`(max-width: ${n(t,-.1)})`)},isSmallerOrEqual(t){return s(`(max-width: ${n(t)})`)},isInBetween(t,a){return s(`(min-width: ${n(t)}) and (max-width: ${n(a,-.1)})`)},current:d,active(){const t=d();return g(()=>t.value.length===0?"":t.value.at(-1))}})}function U(e){const r=M(),n=C(()=>null,()=>e?h(e):r.proxy.$el);return W(n.trigger),A(n.trigger),n}function z(e,r={}){const{initialValue:n=!1,focusVisible:i=!1}=r,u=E(!1),s=g(()=>h(e));w(s,"focus",l=>{var m,d;(!i||(d=(m=l.target).matches)!=null&&d.call(m,":focus-visible"))&&(u.value=!0)}),w(s,"blur",()=>u.value=!1);const c=g({get:()=>u.value,set(l){var m,d;!l&&u.value?(m=s.value)==null||m.blur():l&&!u.value&&((d=s.value)==null||d.focus())}});return S(s,()=>{c.value=n},{immediate:!0,flush:"post"}),{focused:c}}export{U as a,R as b,Q as o,z as u};
