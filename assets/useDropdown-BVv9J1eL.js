import{r as g,c as i,w as dt,o as ft,k as bt,n as Lt}from"./vue.esm-bundler-DD7xIM0D.js";function mt(b){const c={0:["°","₀","۰","０"],1:["¹","₁","۱","１"],2:["²","₂","۲","２"],3:["³","₃","۳","３"],4:["⁴","₄","۴","٤","４"],5:["⁵","₅","۵","٥","５"],6:["⁶","₆","۶","٦","６"],7:["⁷","₇","۷","７"],8:["⁸","₈","۸","８"],9:["⁹","₉","۹","９"],a:["à","á","ả","ã","ạ","ă","ắ","ằ","ẳ","ẵ","ặ","â","ấ","ầ","ẩ","ẫ","ậ","ā","ą","å","α","ά","ἀ","ἁ","ἂ","ἃ","ἄ","ἅ","ἆ","ἇ","ᾀ","ᾁ","ᾂ","ᾃ","ᾄ","ᾅ","ᾆ","ᾇ","ὰ","ά","ᾰ","ᾱ","ᾲ","ᾳ","ᾴ","ᾶ","ᾷ","а","أ","အ","ာ","ါ","ǻ","ǎ","ª","ა","अ","ا","ａ","ä"],b:["б","β","ب","ဗ","ბ","ｂ"],c:["ç","ć","č","ĉ","ċ","ｃ"],d:["ď","ð","đ","ƌ","ȡ","ɖ","ɗ","ᵭ","ᶁ","ᶑ","д","δ","د","ض","ဍ","ဒ","დ","ｄ"],e:["é","è","ẻ","ẽ","ẹ","ê","ế","ề","ể","ễ","ệ","ë","ē","ę","ě","ĕ","ė","ε","έ","ἐ","ἑ","ἒ","ἓ","ἔ","ἕ","ὲ","έ","е","ё","э","є","ə","ဧ","ေ","ဲ","ე","ए","إ","ئ","ｅ"],f:["ф","φ","ف","ƒ","ფ","ｆ"],g:["ĝ","ğ","ġ","ģ","г","ґ","γ","ဂ","გ","گ","ｇ"],h:["ĥ","ħ","η","ή","ح","ه","ဟ","ှ","ჰ","ｈ"],i:["í","ì","ỉ","ĩ","ị","î","ï","ī","ĭ","į","ı","ι","ί","ϊ","ΐ","ἰ","ἱ","ἲ","ἳ","ἴ","ἵ","ἶ","ἷ","ὶ","ί","ῐ","ῑ","ῒ","ΐ","ῖ","ῗ","і","ї","и","ဣ","ိ","ီ","ည်","ǐ","ი","इ","ی","ｉ"],j:["ĵ","ј","Ј","ჯ","ج","ｊ"],k:["ķ","ĸ","к","κ","Ķ","ق","ك","က","კ","ქ","ک","ｋ"],l:["ł","ľ","ĺ","ļ","ŀ","л","λ","ل","လ","ლ","ｌ"],m:["м","μ","م","မ","მ","ｍ"],n:["ñ","ń","ň","ņ","ŉ","ŋ","ν","н","ن","န","ნ","ｎ"],o:["ó","ò","ỏ","õ","ọ","ô","ố","ồ","ổ","ỗ","ộ","ơ","ớ","ờ","ở","ỡ","ợ","ø","ō","ő","ŏ","ο","ὀ","ὁ","ὂ","ὃ","ὄ","ὅ","ὸ","ό","о","و","θ","ို","ǒ","ǿ","º","ო","ओ","ｏ","ö"],p:["п","π","ပ","პ","پ","ｐ"],q:["ყ","ｑ"],r:["ŕ","ř","ŗ","р","ρ","ر","რ","ｒ"],s:["ś","š","ş","с","σ","ș","ς","س","ص","စ","ſ","ს","ｓ"],t:["ť","ţ","т","τ","ț","ت","ط","ဋ","တ","ŧ","თ","ტ","ｔ"],u:["ú","ù","ủ","ũ","ụ","ư","ứ","ừ","ử","ữ","ự","û","ū","ů","ű","ŭ","ų","µ","у","ဉ","ု","ူ","ǔ","ǖ","ǘ","ǚ","ǜ","უ","उ","ｕ","ў","ü"],v:["в","ვ","ϐ","ｖ"],w:["ŵ","ω","ώ","ဝ","ွ","ｗ"],x:["χ","ξ","ｘ"],y:["ý","ỳ","ỷ","ỹ","ỵ","ÿ","ŷ","й","ы","υ","ϋ","ύ","ΰ","ي","ယ","ｙ"],z:["ź","ž","ż","з","ζ","ز","ဇ","ზ","ｚ"],A:["Á","À","Ả","Ã","Ạ","Ă","Ắ","Ằ","Ẳ","Ẵ","Ặ","Â","Ấ","Ầ","Ẩ","Ẫ","Ậ","Å","Ā","Ą","Α","Ά","Ἀ","Ἁ","Ἂ","Ἃ","Ἄ","Ἅ","Ἆ","Ἇ","ᾈ","ᾉ","ᾊ","ᾋ","ᾌ","ᾍ","ᾎ","ᾏ","Ᾰ","Ᾱ","Ὰ","Ά","ᾼ","А","Ǻ","Ǎ","Ａ","Ä"],B:["Б","Β","ब","Ｂ"],C:["Ç","Ć","Č","Ĉ","Ċ","Ｃ"],D:["Ď","Ð","Đ","Ɖ","Ɗ","Ƌ","ᴅ","ᴆ","Д","Δ","Ｄ"],E:["É","È","Ẻ","Ẽ","Ẹ","Ê","Ế","Ề","Ể","Ễ","Ệ","Ë","Ē","Ę","Ě","Ĕ","Ė","Ε","Έ","Ἐ","Ἑ","Ἒ","Ἓ","Ἔ","Ἕ","Έ","Ὲ","Е","Ё","Э","Є","Ə","Ｅ"],F:["Ф","Φ","Ｆ"],G:["Ğ","Ġ","Ģ","Г","Ґ","Γ","Ｇ"],H:["Η","Ή","Ħ","Ｈ"],I:["Í","Ì","Ỉ","Ĩ","Ị","Î","Ï","Ī","Ĭ","Į","İ","Ι","Ί","Ϊ","Ἰ","Ἱ","Ἳ","Ἴ","Ἵ","Ἶ","Ἷ","Ῐ","Ῑ","Ὶ","Ί","И","І","Ї","Ǐ","ϒ","Ｉ"],J:["Ｊ"],K:["К","Κ","Ｋ"],L:["Ĺ","Ł","Л","Λ","Ļ","Ľ","Ŀ","ल","Ｌ"],M:["М","Μ","Ｍ"],N:["Ń","Ñ","Ň","Ņ","Ŋ","Н","Ν","Ｎ"],O:["Ó","Ò","Ỏ","Õ","Ọ","Ô","Ố","Ồ","Ổ","Ỗ","Ộ","Ơ","Ớ","Ờ","Ở","Ỡ","Ợ","Ø","Ō","Ő","Ŏ","Ο","Ό","Ὀ","Ὁ","Ὂ","Ὃ","Ὄ","Ὅ","Ὸ","Ό","О","Θ","Ө","Ǒ","Ǿ","Ｏ","Ö"],P:["П","Π","Ｐ"],Q:["Ｑ"],R:["Ř","Ŕ","Р","Ρ","Ŗ","Ｒ"],S:["Ş","Ŝ","Ș","Š","Ś","С","Σ","Ｓ"],T:["Ť","Ţ","Ŧ","Ț","Т","Τ","Ｔ"],U:["Ú","Ù","Ủ","Ũ","Ụ","Ư","Ứ","Ừ","Ử","Ữ","Ự","Û","Ū","Ů","Ű","Ŭ","Ų","У","Ǔ","Ǖ","Ǘ","Ǚ","Ǜ","Ｕ","Ў","Ü"],V:["В","Ｖ"],W:["Ω","Ώ","Ŵ","Ｗ"],X:["Χ","Ξ","Ｘ"],Y:["Ý","Ỳ","Ỷ","Ỹ","Ỵ","Ÿ","Ῠ","Ῡ","Ὺ","Ύ","Ы","Й","Υ","Ϋ","Ŷ","Ｙ"],Z:["Ź","Ž","Ż","З","Ζ","Ｚ"]};return Object.keys(c).forEach(d=>{c[d].forEach(u=>{b=b.replace(new RegExp(u,"g"),d)})}),b}const F=b=>{let c=b??"";return c=mt(c),c=c.toString().toLowerCase().replace(/[-_]/g," ").replace(/[^\w\s]/g,""),c};function Ot(b,c,d,u,B,f,a,tt,P,L){const E=g(!1),w=g(!1),k=g(null),r=g(0),I=g(!1),et=g(""),nt=g(""),y=g(""),z=g(""),st=g(""),J=g(!1),m=i(()=>{const t=[];return d.value.forEach(e=>{e.optionsList.forEach(n=>{t.push(n)})}),t}),h=i(()=>R.value.flatMap(e=>e.optionsList)),ot=i(()=>m.value.filter(t=>t.checked).map(t=>t.value).join(", ")),lt=i(()=>m.value.filter(t=>t.checked).map(t=>t.label||t.value).join(", ")),v=i(()=>y.value.toLowerCase()),R=i(()=>{const t=d.value.some(e=>e.groupName);return B!=null&&B.value?t?Q.value:K.value:d.value}),K=i(()=>{const e=!(f!=null&&f.value)||f.value==="contains"?H:$,n=v.value.length>=1?e(m.value):m.value;return A(n.length===0),[{optionsList:n}]}),Q=i(()=>{let t;const e=!(f!=null&&f.value)||f.value==="contains";if(v.value.length===0)t=d.value;else{const n=e?N:T,s=e?H:$;t=d.value.filter(o=>o.optionsList.some(l=>n(l))).map(o=>({...o,optionsList:s(o.optionsList)}))}return A(t.length===0),t}),at=i(()=>{const t=[];return R.value.forEach((e,n)=>{const s=e.groupName;return e.optionsList.map(o=>{const l={...o,group:s,groupNum:n};return t.push(l),l})}),t}),x=i(()=>D(!1)),S=i(()=>D(!0)),O=i(()=>h.value.length-1),X=i(()=>h.value[r.value].disabled),ut=()=>{requestAnimationFrame(()=>{const t=m.value.filter(e=>e.checked);b("multiSelected",t)})},Y=async()=>{var l;await Lt();const t=a==null?void 0:a.value[c.value],e=t.getBoundingClientRect().top,n=t.getBoundingClientRect().height,s=window.innerHeight-(e+n+15),o=(l=a==null?void 0:a.value[`${c.value}-optionsList`])==null?void 0:l.scrollHeight;k.value=s>o?o:s,y.value.length>=1&&o<s&&(k.value=0)};dt(y,Y);const ct=t=>t.map((n,s)=>({...n,position:s})).find(n=>n.value===z.value),H=t=>t.filter(e=>N(e)).sort((e,n)=>j(e,n)),$=t=>t.filter(e=>T(e)).sort((e,n)=>j(e,n)),N=t=>{const e=W(t),n=F(e);return e.includes(v.value)||n.includes(v.value)},T=t=>{var p;const e=W(t),n=F(e),s=(u==null?void 0:u.value)&&/^\d+/.test(v.value),o=(u==null?void 0:u.value)&&/^(\+|\+\d+|\()/.test(v.value),l=((p=e.match(/\+(\d+)/))==null?void 0:p[1])||"";return s?l.startsWith(v.value):o?e.includes(v.value):e.startsWith(v.value)||n.startsWith(v.value)},W=t=>{const n=m.value.some(s=>s.label)?t.label:t.value;return(n==null?void 0:n.toLowerCase())??""},j=(t,e)=>(t.label??"").localeCompare(e.label??"")||(t.value??"").localeCompare(e.value??""),A=t=>{J.value=t},Z=()=>{w.value=!w.value,r.value=0},it=t=>{w.value||Z()},rt=()=>{E.value=!E.value,r.value=0},vt=t=>{t.target.click()},pt=()=>{w.value=!1,r.value=0,I.value=!1},D=t=>{const e=t?[...h.value].reverse():h.value,n=e.findIndex(p=>!p.disabled),s=e.findIndex(p=>!!p.disabled),o=t?O.value-n:n,l=t?O.value-s:s;return{enabled:o,disabled:l}},G=(t,e)=>{if(t())do r.value+=e;while(X.value&&t())},gt=(t,e)=>{C();const n=x.value.disabled===0?x.value.enabled:0,s=S.value.disabled===O.value?S.value.enabled:O.value;switch(t){case"next":G(()=>r.value<s,1);break;case"previous":G(()=>r.value>n,-1);break}I.value=!0;const o=P.value[r.value];o.focus(),_(o,e)},_=(t,e)=>{var M;const n=a==null?void 0:a.value[`${c.value}-optionsList`],s=((M=a==null?void 0:a.value[`${e}-label`])==null?void 0:M.clientHeight)||0,o=n.getBoundingClientRect().bottom,l=t.getBoundingClientRect().top,p=o-l,U=S.value.disabled===O.value&&r.value===S.value.enabled,q=x.value.disabled===0&&r.value===x.value.enabled;p<s?n.scrollTop+=s-(o-l):U?n.scrollTop+=s:(q||r.value===1)&&(n.scrollTop-=s)},V=()=>{var o;if(!(u!=null&&u.value)||!w.value)return;const t=a==null?void 0:a.value[`${c.value}-optionsList`],e=t.getBoundingClientRect().bottom,n=t.getBoundingClientRect().top,s=(o=L==null?void 0:L.value)==null?void 0:o.filter(l=>{const p=l.$el.getBoundingClientRect().height,U=l.$el.getBoundingClientRect().bottom,q=l.$el.getBoundingClientRect().top;return U>e+p||q<n-p});s==null||s.forEach(l=>{l.$el.style.display="none"})},C=()=>{var t;u!=null&&u.value&&((t=L==null?void 0:L.value)==null||t.forEach(e=>{e.$el.style.display="block"}))};return ft(()=>{window.addEventListener("scroll",V)}),bt(()=>{window.removeEventListener("scroll",V)}),{option:P,search:tt,flag:L,opened:w,openState:E,dynamicHeight:k,focusedIndex:r,isFocusItem:I,simpleValue:et,simpleLabel:nt,searches:y,noSearchResult:J,firstOptionChecked:st,scrollSelectedValue:z,optionsList:m,searchValue:v,dynamicOptionsList:h,multiValue:ot,multiLabel:lt,dynamicOptions:R,filteredOptions:K,filteredGroupOptions:Q,listForScroll:at,firstIndexOpt:x,lastIndexOpt:S,itemsMax:O,currentOptionDisabled:X,optionSelected:ct,alphabeticalOrder:j,clickTarget:vt,messageNoResult:A,toggle:rt,toggleListBox:Z,openListBox:it,close:pt,hideFlags:V,displayAllFlags:C,multiSelected:ut,contains:H,startsWith:$,slugContains:N,slugStartsWith:T,optionLower:W,getFirstLastIndex:D,changeFocus:G,focusItem:gt,scrollOnFocusItem:_,dynamicListboxHeight:Y}}export{Ot as u};
