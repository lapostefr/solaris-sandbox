import{r as _,c as D,w as H}from"./vue.esm-bundler-DD7xIM0D.js";function O(r,v,f,L,o,b,N,c,S,t){var A;const u=_(-1),p=_(!1),d=D(()=>(N==null?void 0:N.value)&&((t==null?void 0:t.value)==="text"||(t==null?void 0:t.value)==="number")),n=e=>{const l=/^\d+([.,]\d+)?$/;if(d.value)if(!l.test(e.replace(/\s/g,"")))e=e.replace(/[^\d.,]/g,"").replace(/([.,])[.,]+/g,",").replace(/^([.,]+)/,"").replace(/\./,"_").replace(/\./g,"").replace("_",".").replace(/,/,"_").replace(/,/g,"").replace("_",",");else{const a=Number(e.replaceAll(",","."));f!=null&&f.value&&a&&(e=f.value<a?f.value.toString():e)}return e},h=(e,l)=>{const a=Number(e.replaceAll(",","."));return e!==""&&!isNaN(a)&&(e=l>a?l.toString():e),e},I=e=>{let l=e.target.value;d.value&&(l=n(l),e.target.value=l),o!=null&&o.value&&(l=l.slice(0,o.value)),r("input",l)},R=()=>{r("focus")},$=()=>{(S==null?void 0:S.value).focus()},j=()=>{c!=null&&c.value?(u.value++,u.value===c.value.length&&(u.value=0),r("suggestionSelected",c[u.value])):r("goDown")},k=()=>{c!=null&&c.value&&(u.value--,u.value<0&&(u.value=c.value.length-1),r("suggestionSelected",c[u.value]))},z=e=>{let l=e.target.value;d.value&&(b!=null&&b.value)&&(l=h(l,b.value),e.target.value=l),r("blur",e)},w=e=>{p.value=!!e.length};H(()=>c==null?void 0:c.value,w);const E=D(()=>{const e={},l=(v==null?void 0:v.value)??{};return Object.keys(l).forEach(a=>e[`aria-${a}`]=v==null?void 0:v.value[a]),e}),F=e=>{p.value=!1,r("suggestionSelect",e)};return p.value=!!((A=c==null?void 0:c.value)!=null&&A.length),{suggestionsLayerIsVisible:p,ariaAttributes:E,suggestionHover:u,checkMin:h,focus:R,sanitizeNumericonly:n,setFocus:$,goDown:j,goUp:k,blur:z,changeSuggestions:w,suggestionSelect:F,change:I}}export{O as u};
