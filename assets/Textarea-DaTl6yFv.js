import{l as C,E as q,G as D,r as n,Y as I,c as F,a as O,o as U,b as t,d as s,p as f,z as i,t as o,H as E,S as A,O as G,y as d,u as L,s as $}from"./vue.esm-bundler-DD7xIM0D.js";import{g as H}from"./generateId-DPOzJEtM.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W=["for"],Y=["maxlength","readonly","disabled","autofocus","placeholder","aria-describedby","id","name","rows"],J={key:0,class:"textarea__description"},K={key:2,class:"textarea__message"},Q={key:3,class:"textarea__count"},M=C({__name:"Textarea",props:q({autofocus:{type:Boolean},dataError:{},description:{},disabled:{type:Boolean},error:{type:Boolean},id:{},label:{},labelPosition:{default:"inside"},mandatory:{type:Boolean},maxlength:{},message:{},name:{},placeholder:{},readonly:{type:Boolean},row:{},size:{default:"medium"}},{modelValue:{},modelModifiers:{}}),emits:q(["blur"],["update:modelValue"]),setup(y,{emit:k}){const r=y,z=k,c=D(y,"modelValue"),B=H,b=n(""),g=n(""),v=n(null),_=n(null),m=n(!1),h=I({width:"100%"}),P=()=>{m.value=!0},S=()=>{m.value=!1,z("blur")},V=()=>{const e=window.getComputedStyle(v.value),a=parseFloat(e==null?void 0:e.width);typeof a=="number"&&(h.width=`${a}px`)},T=F(()=>r.row&&r.row>0?r.row:r.size==="compact"?1:7),u=()=>g.value?g.value.length:0,p=()=>{var e,a,l;return r.dataError&&((e=r.dataError)==null?void 0:e.active)&&((l=(a=r.dataError)==null?void 0:a.message)==null?void 0:l.length)},w=()=>{const e=_.value;b.value=e&&e.id?e.id:"error-message"},N=()=>{var e,a;return(e=r.dataError)!=null&&e.active&&((a=r.dataError)!=null&&a.message)?b.value:void 0};return O(()=>{w()}),U(()=>{w()}),(e,a)=>{var l,x;return t(),s("div",{class:i(["textarea",[`textarea--${e.labelPosition}`,{"textarea--small":e.size=="small"||e.size=="compact","textarea--medium":e.size=="medium"||e.size=="default","textarea--filled":!!c.value,"textarea--only":!e.placeholder&&!m.value&&!u()}]])},[f("div",{class:i(["textarea__wrapper",[{"textarea__wrapper--error":e.error||e.dataError&&e.dataError.active,"textarea__wrapper--readonly":e.readonly,"textarea__wrapper--placeholder":!!e.placeholder,"textarea__wrapper--focus":m.value,"textarea__wrapper--has-value":u(),"textarea__wrapper--disabled":e.disabled}]])},[f("label",{class:i(["textarea__label",{"textarea--disabled":e.disabled,"textarea__label--inside":e.labelPosition==="inside","textarea__label--outside":e.labelPosition==="outside","textarea__label--mandatory":e.mandatory}]),for:e.id},o(e.label),11,W),E(f("textarea",{maxlength:e.maxlength,readonly:e.readonly,disabled:e.disabled,autofocus:e.autofocus,placeholder:e.placeholder,"aria-describedby":N(),"onUpdate:modelValue":a[0]||(a[0]=j=>c.value=j),onBlur:S,onFocus:P,onMousemove:V,class:i(["textarea__element",[{"textarea__element--taken":u(),"textarea__element--inside":e.labelPosition==="inside","textarea__element--outside":e.labelPosition==="outside"}]]),id:e.id,ref_key:"textarea",ref:v,name:e.name,rows:T.value,type:"text"},null,42,Y),[[A,c.value]]),e.description||p()||e.message||e.maxlength?(t(),s("div",{key:0,class:i(["textarea__bottom",[{"textarea__bottom--text":p()||e.description}]]),style:G(h)},[e.description&&!p()?(t(),s("p",J,o(e.description),1)):d("",!0),p()?E((t(),s("p",{key:1,class:"textarea__error-message",ref_key:"errorMessage",ref:_,"aria-live":"polite"},[$(o((l=e.dataError)==null?void 0:l.message),1)])),[[L(B),"textarea-error-message--"]]):d("",!0),e.message&&!((x=e.dataError)!=null&&x.active)?(t(),s("p",K,o(e.message),1)):d("",!0),e.maxlength?(t(),s("span",Q,o(u())+"/"+o(e.maxlength),1)):d("",!0)],6)):d("",!0)],2)],2)}}}),X=R(M,[["__scopeId","data-v-3958a592"]]);M.__docgenInfo={exportName:"default",displayName:"Textarea",description:"",tags:{},props:[{name:"autofocus",required:!1,type:{name:"boolean"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"description",required:!1,type:{name:"string"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"id",required:!0,type:{name:"string"}},{name:"label",required:!0,type:{name:"string"}},{name:"labelPosition",required:!1,type:{name:"LabelPosition"},defaultValue:{func:!1,value:"'inside'"}},{name:"mandatory",required:!1,type:{name:"boolean"}},{name:"maxlength",required:!1,type:{name:"number"}},{name:"message",required:!1,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"readonly",required:!1,type:{name:"boolean"}},{name:"row",required:!1,type:{name:"number"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"compact"'},{name:'"small"'},{name:'"medium"'}]},defaultValue:{func:!1,value:"'medium'"}}],events:[{name:"blur"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/atoms/Textarea/Textarea.vue"]};const re=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"}));export{X as S,re as _};
