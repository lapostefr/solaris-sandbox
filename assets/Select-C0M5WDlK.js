import{l as w,E as g,G as A,r as u,c as v,a as C,o as D,b as r,d as t,p as m,z as _,s as q,t as n,y as i,q as O,H as E,W as F,u as h,J as R,K as U,F as $,C as G}from"./vue.esm-bundler-DD7xIM0D.js";import{I as T}from"./Icon-BQIPAAEI.js";import{L as H}from"./types-Dd7QR7uO.js";import{g as J}from"./generateId-DPOzJEtM.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"select__wrapper"},Q=["for"],X={key:0,class:"select__mandatory"},Y=["disabled","name","id","aria-describedby"],Z={value:null,disabled:""},x=["value","disabled"],ee={key:1,class:"select__message"},V=w({__name:"Select",props:g({aria:{},dataError:{},disabled:{type:Boolean},error:{type:Boolean},icon:{default:"arrow-bottom"},id:{},inputRef:{default:"select"},label:{},labelPosition:{default:H.inside},mandatory:{type:Boolean},message:{},name:{},options:{},placeholder:{},readonly:{type:Boolean},size:{default:"default"},value:{default:null}},{modelValue:{},modelModifiers:{}}),emits:g(["blur"],["update:modelValue"]),setup(c,{emit:S}){const s=c,k=S,M=A(c,"modelValue"),z=J,d=M,p=u(""),P=u(null),f=u(null),B=v(()=>s.options.find(e=>e.value===s.value)??null),I=v(()=>{const e={},a=s.aria??{};return Object.keys(a).forEach(l=>e[`aria-${l}`]=a[l]),e}),L=()=>{k("blur")},N=()=>{var e,a,l;return s.dataError&&((e=s.dataError)==null?void 0:e.active)&&((l=(a=s.dataError)==null?void 0:a.message)==null?void 0:l.length)},b=()=>{const e=f.value;p.value=e&&e.id?e.id:"error-message"},j=()=>{var e,a;return(e=s.dataError)!=null&&e.active&&((a=s.dataError)!=null&&a.message)?p.value:void 0};return C(()=>{b()}),D(()=>{b()}),(e,a)=>{var l,y;return r(),t("div",{class:_(["select",[`select--${e.labelPosition}`,{"select--small":e.size=="small"||e.size=="compact","select--medium":e.size=="medium"||e.size=="default","select--filled":!!B.value,"select--placeholder":!!e.placeholder,"select--disabled":e.disabled,"select--noLabel":!e.label,"select--readonly":e.readonly,"select--error":e.error||e.dataError&&e.dataError.active}]])},[m("div",W,[e.label?(r(),t("label",{key:0,class:_(["select__label",[`select__label--${e.labelPosition}`,{"select--disabled":e.disabled}]]),for:e.id},[q(n(e.label)+" ",1),e.label&&e.mandatory?(r(),t("span",X,"*")):i("",!0)],10,Q)):i("",!0),O(T,{class:"select__icon",name:e.icon},null,8,["name"]),E(m("select",R({ref_key:"select",ref:P,onBlur:L,disabled:e.disabled,"onUpdate:modelValue":a[0]||(a[0]=o=>U(d)?d.value=o:null),class:"select__element",name:e.name,id:e.id,"aria-describedby":j()},I.value),[m("option",Z,n(e.placeholder),1),(r(!0),t($,null,G(e.options,o=>(r(),t("option",{key:o.value,value:o.value,disabled:o.disabled},n(o.label),9,x))),128))],16,Y),[[F,h(d)]])]),N()?E((r(),t("p",{key:0,class:"select__error-message",ref_key:"errorMessage",ref:f,"aria-live":"polite"},[q(n((l=e.dataError)==null?void 0:l.message),1)])),[[h(z),"select-error-message--"]]):i("",!0),e.message&&!((y=e.dataError)!=null&&y.active)?(r(),t("p",ee,n(e.message),1)):i("",!0)],2)}}}),ae=K(V,[["__scopeId","data-v-570e154d"]]);V.__docgenInfo={exportName:"default",displayName:"Select",description:"",tags:{},props:[{name:"aria",required:!1,type:{name:`{
  [key: string]: string
}`}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"icon",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'arrow-bottom'"}},{name:"id",required:!0,type:{name:"string"}},{name:"inputRef",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'select'"}},{name:"label",required:!1,type:{name:"string"}},{name:"labelPosition",required:!1,type:{name:"LabelPosition"},defaultValue:{func:!1,value:"LabelPosition.inside"}},{name:"mandatory",required:!1,type:{name:"boolean"}},{name:"message",required:!1,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"SelectOptionItem"}]}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"readonly",required:!1,type:{name:"boolean"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"compact"'}]},defaultValue:{func:!1,value:"'default'"}},{name:"value",required:!1,type:{name:"any"},defaultValue:{func:!1,value:"null"}}],events:[{name:"blur"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue-solaris/src/components/atoms/Select/Select.vue"]};const ne=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{ae as S,ne as _};
